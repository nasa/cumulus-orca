"use strict";(self.webpackChunkorca_website=self.webpackChunkorca_website||[]).push([[5840],{9631:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>c,default:()=>u,frontMatter:()=>i,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"developer/deployment-guide/deployment-s3-credentials","title":"Generating S3 credentials","description":"Provides developer with information on archive storage solutions.","source":"@site/docs/developer/deployment-guide/s3-credentials.md","sourceDirName":"developer/deployment-guide","slug":"/developer/deployment-guide/deployment-s3-credentials","permalink":"/cumulus-orca/docs/developer/deployment-guide/deployment-s3-credentials","draft":false,"unlisted":false,"editUrl":"https://github.com/nasa/cumulus-orca/edit/develop/website/docs/developer/deployment-guide/s3-credentials.md","tags":[],"version":"current","frontMatter":{"id":"deployment-s3-credentials","title":"Generating S3 credentials","description":"Provides developer with information on archive storage solutions."},"sidebar":"dev_guide","previous":{"title":"Creating the Archive Bucket","permalink":"/cumulus-orca/docs/developer/deployment-guide/deployment-s3-bucket"},"next":{"title":"Deploying ORCA with Cumulus","permalink":"/cumulus-orca/docs/developer/deployment-guide/deployment-with-cumulus"}}');var s=n(4848),r=n(8453);const i={id:"deployment-s3-credentials",title:"Generating S3 credentials",description:"Provides developer with information on archive storage solutions."},c=void 0,l={},d=[];function a(e){const t={a:"a",admonition:"admonition",code:"code",li:"li",ol:"ol",p:"p",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsx)(t.p,{children:"Starting in ORCA v10.x which uses Aurora v2, users will use IAM role to access archive buckets. Therefore, no access keys are required and this documentation will be obsolete."})}),"\n",(0,s.jsxs)(t.p,{children:["Postgres requires access to the ",(0,s.jsx)(t.a,{href:"/cumulus-orca/docs/developer/deployment-guide/deployment-s3-bucket#reports-bucket",children:"ORCA Reports bucket"})," to pull in s3 inventory information.\nThese values are stored in the ",(0,s.jsx)(t.a,{href:"/cumulus-orca/docs/developer/deployment-guide/deployment-with-cumulus#orca-required-variables",children:"Required Variables"})," ",(0,s.jsx)(t.code,{children:"s3_access_key"})," and ",(0,s.jsx)(t.code,{children:"s3_secret_key"}),".\nNote that this only impacts ",(0,s.jsx)(t.a,{href:"/cumulus-orca/docs/developer/api/#internal-reconcile-report-jobs-api",children:"Internal Reconciliation reports"}),", which is not required for ingest or recovery, but is helpful for verifying data integrity.\nIf you are unable to follow these instructions, or wish to avoid generating/managing credentials, blank values may be used and the impact will be isolated to Internal Reconciliation."]}),"\n",(0,s.jsx)(t.p,{children:"To generate an access key:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsx)(t.li,{children:"Connect to the NASA VPN."}),"\n",(0,s.jsxs)(t.li,{children:["Go to ",(0,s.jsx)(t.a,{href:"https://cloud.earthdata.nasa.gov/portal/project",children:"https://cloud.earthdata.nasa.gov/portal/project"})]}),"\n",(0,s.jsx)(t.li,{children:"Click the account containing your ORCA Reports bucket"}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"CLOUD MANAGEMENT"})," -> ",(0,s.jsx)(t.code,{children:"AWS Long-Term Access Keys"})]}),"\n",(0,s.jsxs)(t.li,{children:["Under the revealed ",(0,s.jsx)(t.code,{children:"AWS Long-Term Access Keys"})," sections, click the three dots, followed by ",(0,s.jsx)(t.code,{children:"Create AWS long-term access keys"})]}),"\n",(0,s.jsx)(t.li,{children:"Select an account and role that can access the bucket"}),"\n",(0,s.jsxs)(t.li,{children:["Click ",(0,s.jsx)(t.code,{children:"Generate API Key"})]}),"\n",(0,s.jsxs)(t.li,{children:["Make sure to copy the secret value from this screen. This is your ",(0,s.jsx)(t.code,{children:"s3_secret_key"}),". The ",(0,s.jsx)(t.code,{children:"Key ID"})," is your ",(0,s.jsx)(t.code,{children:"s3_access_key"})]}),"\n",(0,s.jsx)(t.li,{children:"Note that these keys will eventually expire and will need to be regenerated and redeployed"}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["We are looking into alternatives to this system to remove these manual steps and eliminate the need for manual redeployment of expired keys.\nOnce Cumulus updates their RDS instance (or we decouple) IAM roles may be an option. Details in ",(0,s.jsx)(t.a,{href:"https://bugs.earthdata.nasa.gov/browse/ORCA-667",children:"backlog card"}),"."]})]})}function u(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>c});var o=n(6540);const s={},r=o.createContext(s);function i(e){const t=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(r.Provider,{value:t},e.children)}}}]);