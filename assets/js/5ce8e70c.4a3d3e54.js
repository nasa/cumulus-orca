"use strict";(self.webpackChunkorca_website=self.webpackChunkorca_website||[]).push([[9583],{7760:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"developer/deployment-guide/deploying-from-windows","title":"Deploy from Windows","description":"A concrete set of instructions on deploying from Windows to create a test environment.","source":"@site/docs/developer/deployment-guide/deploying-from-windows.md","sourceDirName":"developer/deployment-guide","slug":"/developer/deployment-guide/deploying-from-windows","permalink":"/cumulus-orca/docs/developer/deployment-guide/deploying-from-windows","draft":false,"unlisted":false,"editUrl":"https://github.com/nasa/cumulus-orca/edit/develop/website/docs/developer/deployment-guide/deploying-from-windows.md","tags":[],"version":"current","frontMatter":{"id":"deploying-from-windows","title":"Deploy from Windows","description":"A concrete set of instructions on deploying from Windows to create a test environment."},"sidebar":"dev_guide","previous":{"title":"Testing Deployment","permalink":"/cumulus-orca/docs/developer/deployment-guide/testing_deployment"},"next":{"title":"ORCA API Reference","permalink":"/cumulus-orca/docs/developer/api/"}}');var i=r(4848),t=r(8453),o=r(6025);const a={id:"deploying-from-windows",title:"Deploy from Windows",description:"A concrete set of instructions on deploying from Windows to create a test environment."},d=void 0,l={},c=[{value:"Notes",id:"notes",level:3},{value:"Application",id:"application",level:2},{value:"Initial Setup",id:"initial-setup",level:2},{value:"Cumulus",id:"cumulus",level:2},{value:"=============================================================================",id:"",level:2},{value:"ORCA Variables",id:"orca-variables",level:2},{value:"=============================================================================",id:"-1",level:2},{value:"REQUIRED TO BE SET",id:"required-to-be-set",level:2},{value:"-----------------------------------------------------------------------------",id:"-----------------------------------------------------------------------------",level:2},{value:"ORCA application database user password.",id:"orca-application-database-user-password",level:2},{value:"Default archive bucket to use",id:"default-archive-bucket-to-use",level:2},{value:"PostgreSQL database (root) user password",id:"postgresql-database-root-user-password",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Deploying Cumulus, CumulusDashboard, and ORCA from Windows brings some additional challenges.\nThe goal of this page is to provide a set of modified instructions to get around common errors."}),"\n",(0,i.jsx)(n.h3,{id:"notes",children:"Notes"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Choose a PREFIX that will identify your installation when in AWS. This string will be used throughout deployment."}),"\n",(0,i.jsxs)(n.li,{children:["Connect to the NASA VPN to be able to connect to AWS.","\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsx)(n.p,{children:"The VPN drastically slows down Terraform operations, and limits what documentation can be viewed. Switch off when applicable."})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Commands here will use ",(0,i.jsx)(n.code,{children:"us-west-2"})," for region because of the current state of our sandbox and ESDIS recommendations. Replace consistently as needed.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Make sure any operations in AWS are done under the correct region."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"application",children:"Application"}),"\n",(0,i.jsx)(n.p,{children:"This application will be used in future steps to authenticate users."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Go to ",(0,i.jsx)(n.a,{href:"https://uat.urs.earthdata.nasa.gov/profile",children:"https://uat.urs.earthdata.nasa.gov/profile"})]}),"\n",(0,i.jsxs)(n.li,{children:["Applications -> My Applications","\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["If this option is not present, then ",(0,i.jsx)(n.a,{href:"https://wiki.earthdata.nasa.gov/display/EL/How+To+Register+An+Application",children:'you must get the "Application Developer" permission.'})]})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Create a new Application. Remember to update with your own prefix.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Application ID: ",(0,i.jsx)(n.code,{children:"PREFIX_cumulus"})]}),"\n",(0,i.jsxs)(n.li,{children:["Application Name ",(0,i.jsx)(n.code,{children:"PREFIX Cumulus"})]}),"\n",(0,i.jsxs)(n.li,{children:["Application Type: ",(0,i.jsx)(n.code,{children:"OAuth 2"})]}),"\n",(0,i.jsxs)(n.li,{children:["Redirect URL: For now, ",(0,i.jsx)(n.code,{children:"http://localhost:3000/"}),". Proper URLs will be defined in the ",(0,i.jsx)(n.a,{href:"#redirect-definition",children:"ORCA deployment"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"initial-setup",children:"Initial Setup"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Follow the ",(0,i.jsx)(n.a,{href:"/cumulus-orca/docs/developer/deployment-guide/deployment-environment",children:"deployment environment setup instructions"}),".","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"You may need to install Terraform manually."}),"\n",(0,i.jsx)(n.li,{children:"Only configure the default profile."}),"\n",(0,i.jsxs)(n.li,{children:["Keep the access keys in plain-text. You will need to run ",(0,i.jsx)(n.code,{children:"aws configure"})," in multiple environments."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Create an AWS Key Value Pair by following  ",(0,i.jsx)(n.a,{href:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html#having-ec2-create-your-key-pair",children:"the AWS instructions"}),".","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Choose the '.pem' format."}),"\n",(0,i.jsx)(n.li,{children:"Naming convention is PREFIX-key-pair.pem"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Create buckets.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Same OU and region would not be ideal for a real backup system, and is therefore not sufficient for testing."}),"\n",(0,i.jsxs)(n.li,{children:["Required buckets are PREFIX-tf-state, PREFIX-orca-primary, PREFIX-internal, PREFIX-private, PREFIX-protected, PREFIX-public, and PREFIX-orca-reports","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"PREFIX-orca-* buckets go in a separate DR account. Other buckets simulate Cumulus-managed buckets, and should be placed in the base account."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsxs)(n.p,{children:["An example command for creating a bucket in us-west-2. Remember to run ",(0,i.jsx)(n.code,{children:"aws configure"})," for the proper account first."]}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-commandline",children:'aws s3api create-bucket --bucket PREFIX-tf-state --profile default --region us-west-2 --create-bucket-configuration "LocationConstraint=us-west-2"\n'})})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"cumulus",children:"Cumulus"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["If creating a realistic setup with multiple OUs, apply ",(0,i.jsx)(n.a,{href:"/cumulus-orca/docs/developer/deployment-guide/deployment-s3-bucket",children:"Create the ORCA Archive Bucket"})," to your PREFIX-orca-primary and PREFIX-orca-reports."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Run"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-commandline",children:"aws dynamodb create-table --table-name PREFIX-tf-locks --attribute-definitions AttributeName=LockID,AttributeType=S --key-schema AttributeName=LockID,KeyType=HASH --billing-mode PAY_PER_REQUEST --region us-west-2\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Run"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-commandline",children:"aws s3api put-bucket-versioning --bucket PREFIX-tf-state --versioning-configuration Status=Enabled\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["VPC and Subnets are created by ",(0,i.jsx)(n.a,{href:"https://wiki.earthdata.nasa.gov/display/ESKB/AWS+Services+Approval+Status+Page#AWSServicesApprovalStatusPage-VPC",children:"NGAP"}),".\nIt is recommended you copy values from an existing deployment setup."]})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Go to ",(0,i.jsx)(n.a,{href:"https://git.earthdata.nasa.gov/projects/ORCA/repos/cumulus-orca-deploy-template/browse",children:"this repo"})," and clone it to your machine."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsxs)(n.p,{children:["It is strongly recommended to use a tested release branch rather than master. These instructions have been tested with ",(0,i.jsx)(n.code,{children:"release/v9.4.0-v3.0.1"})]})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Unzip."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Remove the '.example' on terraform.tf and terraform.tfvars files in data-persistence-tf, cumulus-tf, and rds-cluster-tf."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Globally find and replace ",(0,i.jsx)(n.code,{children:"postgres_user_pw"})," to ",(0,i.jsx)(n.code,{children:"db_admin_password"})," and ",(0,i.jsx)(n.code,{children:"database_app_user_pw"})," to ",(0,i.jsx)(n.code,{children:"db_user_password"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"In each terraform.tf and terraform.tfvars, use your own prefix, region, vpc id, and subnet ids."}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsx)(n.p,{children:"The region and prefix are not always in simple variables. Do a global search for 'PREFIX' and 'us-east-1'."})}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsx)(n.p,{children:"Only use the non-lambda subnet id in the data-persistence-tf/terraform.tfvars. In cumulus-tf use both."})}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsxs)(n.p,{children:["Overwrite the ",(0,i.jsx)(n.code,{children:"orca-sandbox"})," in ",(0,i.jsx)(n.code,{children:"orca-sandbox-tf-locks"})," with your prefix as well."]})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"In rds-cluster-tf/terraform.tfvars"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Use values of your choice for ",(0,i.jsx)(n.code,{children:"db_admin_username"})," and ",(0,i.jsx)(n.code,{children:"db_admin_password"})]}),"\n",(0,i.jsxs)(n.li,{children:["Set ",(0,i.jsx)(n.code,{children:"tags"})," to ",(0,i.jsx)(n.code,{children:'{ "Deployment" = "PREFIX" }'})]}),"\n",(0,i.jsxs)(n.li,{children:["Set ",(0,i.jsx)(n.code,{children:"permissions_boundary_arn"})," to ",(0,i.jsx)(n.code,{children:"arn:aws:iam::YOUR ACCOUNT ID:policy/NGAPShRoleBoundary"})]}),"\n",(0,i.jsxs)(n.li,{children:["Add ",(0,i.jsx)(n.code,{children:'rds_user_password = "CumulusD3faultPassw0rd"'})," and change as desired."]}),"\n",(0,i.jsxs)(n.li,{children:["Set ",(0,i.jsx)(n.code,{children:"provision_user_database"})," to ",(0,i.jsx)(n.code,{children:"true"})]}),"\n",(0,i.jsxs)(n.li,{children:["Set ",(0,i.jsx)(n.code,{children:"cluster_identifier"})," to ",(0,i.jsx)(n.code,{children:'"PREFIX-cumulus-db"'})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"In rds-cluster-tf/terraform.tf"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Set ",(0,i.jsx)(n.code,{children:"bucket"})," to ",(0,i.jsx)(n.code,{children:'"PREFIX-tf-state"'})]}),"\n",(0,i.jsxs)(n.li,{children:["Set ",(0,i.jsx)(n.code,{children:"key"})," to ",(0,i.jsx)(n.code,{children:'"PREFIX/cumulus/terraform.tfstate"'})]}),"\n",(0,i.jsxs)(n.li,{children:["Set ",(0,i.jsx)(n.code,{children:"dynamodb_table"})," to ",(0,i.jsx)(n.code,{children:'"PREFIX-tf-locks"'})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Go to ",(0,i.jsx)(n.a,{href:"https://github.com/asfadmin/CIRRUS-core/blob/master/Dockerfile",children:"https://github.com/asfadmin/CIRRUS-core/blob/master/Dockerfile"})," and download the file to the same folder as your downloaded repo and orca folder."]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"Make sure that no extension is added."})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Open a commandline in the same folder."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Run ",(0,i.jsx)(n.code,{children:"docker build -t orca ."})," and ",(0,i.jsx)(n.code,{children:"docker run -it --rm -v pathToYourFolder:/CIRRUS-core orca /bin/bash"})]}),"\n",(0,i.jsxs)(n.li,{children:["The commandline should now be inside a docker container.","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd cumulus-orca-template-deploy/rds-cluster-tf/\naws configure\nterraform init\nterraform plan\nterraform apply\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"In data-persistence-tf/terraform.tfvars"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Set ",(0,i.jsx)(n.code,{children:"permissions_boundary_arn"})," to ",(0,i.jsx)(n.code,{children:"arn:aws:iam::12345:policy/NGAPShRoleBoundary"})," replacing the ",(0,i.jsx)(n.code,{children:"12345"})," with your Account Id.","\n",(0,i.jsx)("img",{alt:"Location of Account Id",src:(0,o.Ay)("img/aws-account-id.PNG")}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Set ",(0,i.jsx)(n.code,{children:"rds_user_access_secret_arn"})," to the ",(0,i.jsx)(n.code,{children:"user_credentials_secret_urn"})," output from ",(0,i.jsx)(n.code,{children:"terraform apply"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Set ",(0,i.jsx)(n.code,{children:"rds_security_group"})," to the ",(0,i.jsx)(n.code,{children:"security_group_id"})," output from ",(0,i.jsx)(n.code,{children:"terraform apply"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Set ",(0,i.jsx)(n.code,{children:"vpc_id"})," to your borrowed VPC."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"cd ../data-persistence-tf/\naws configure\nterraform init\nterraform plan\nterraform apply"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\n- In cumulus-tf/terraform.tfvars\n    - Replace 12345 in permissions_boundary_arn with the Account Id.\n    - Add to the buckets:\n"})}),"\n",(0,i.jsx)(n.p,{children:'orca_default = {\nname = "PREFIX-orca-primary"\ntype = "orca"\n},\nprovider = {\nname = "orca-sandbox-s3-provider"\ntype = "provider"\n}'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:':::tip\nThe "orca-sandbox-s3-provider" bucket contains test data.\nIf creating a separate environment, you can create your own bucket.\nIt is recommended that all buckets include the same test data.\n:::\n\n- If the CMA is not deployed, follow [the deployment instructions](https://nasa.github.io/cumulus/docs/deployment/deployment-readme#deploy-the-cumulus-message-adapter-layer) and note the version used. Must match `cumulus_message_adapter_version`.\nIf you have already deployed your own CMA layer, it can be found using\n'})}),"\n",(0,i.jsx)(n.p,{children:"aws lambda --profile default list-layers --query \"Layers[?LayerName=='PREFIX-CMA-layer'].[LayerName, LayerArn, LatestMatchingVersion.LayerVersionArn]\""}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:':::\n\n- Comment out the `ecs_cluster_instance_image_id`. This will use the latest NGAP ECS image.\n- `ecs_cluster_instance_subnet_ids` and `lambda_subnet_ids` should have the same two values.\n- Set `urs_client_id` and `urs_client_password` to the values from your created application.\n- Add an extra property `urs_url = "https://uat.urs.earthdata.nasa.gov"`\n- Add your username to the `api_users`\n  - If you want all Orca developers to have access, set to\n'})}),"\n",(0,i.jsx)(n.p,{children:'api_users = [\n"bhazuka",\n"rizbi.hassan",\n"scott.saxon",\n]'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'- Comment out the `archive_api_port` property and value.\n- Uncomment the `key_name property` and set the value to `"PREFIX-key-pair"`\n- Add this section to the bottom of the file and edit as desired:\n'})}),"\n",(0,i.jsx)(n.h2,{id:"",children:"============================================================================="}),"\n",(0,i.jsx)(n.h2,{id:"orca-variables",children:"ORCA Variables"}),"\n",(0,i.jsx)(n.h2,{id:"-1",children:"============================================================================="}),"\n",(0,i.jsx)(n.h2,{id:"required-to-be-set",children:"REQUIRED TO BE SET"}),"\n",(0,i.jsx)(n.h2,{id:"-----------------------------------------------------------------------------",children:"-----------------------------------------------------------------------------"}),"\n",(0,i.jsx)(n.h2,{id:"orca-application-database-user-password",children:"ORCA application database user password."}),"\n",(0,i.jsx)(n.p,{children:'db_user_password = "This1sAS3cr3t"'}),"\n",(0,i.jsx)(n.h2,{id:"default-archive-bucket-to-use",children:"Default archive bucket to use"}),"\n",(0,i.jsx)(n.p,{children:'orca_default_bucket = PREFIX-orca-primary"'}),"\n",(0,i.jsx)(n.h2,{id:"postgresql-database-root-user-password",children:"PostgreSQL database (root) user password"}),"\n",(0,i.jsx)(n.p,{children:'db_admin_password = "An0th3rS3cr3t"'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:':::warning\nThe instructions in the tfvars file suggest swapping \'12345\' with your account ID. This may not work, depending on how your dependencies were set up.\n:::\n- In cumulus-tf/orca.tf:\n- Remove the `aws_profile` and `region` variables.\n- Replace the `ORCA Variables` section with the following:\n```json\n## --------------------------\n## ORCA Variables\n## --------------------------\n## REQUIRED\norca_default_bucket   = var.orca_default_bucket\ndb_admin_password     = var.db_admin_password\ndb_user_password      = var.db_user_password\ndb_host_endpoint      = var.db_host_endpoint\nrds_security_group_id = var.rds_security_group_id\n## OPTIONAL\ndb_admin_username                                    = "postgres"\norca_delete_old_reconcile_jobs_frequency_cron        = "cron(0 0 ? * SUN *)"\norca_ingest_lambda_memory_size                       = 2240\norca_ingest_lambda_timeout                           = 600\norca_internal_reconciliation_expiration_days         = 30\norca_recovery_buckets                                = []\norca_recovery_complete_filter_prefix                 = ""\norca_recovery_expiration_days                        = 5\norca_recovery_lambda_memory_size                     = 128\norca_recovery_lambda_timeout                         = 300\norca_recovery_retry_limit                            = 3\norca_recovery_retry_interval                         = 1\norca_recovery_retry_backoff                          = 2\ns3_inventory_queue_message_retention_time_seconds    = 432000\ns3_report_frequency                                  = "Daily"\nsqs_delay_time_seconds                               = 0\nsqs_maximum_message_size                             = 262144\nstaged_recovery_queue_message_retention_time_seconds = 432000\nstatus_update_queue_message_retention_time_seconds   = 777600\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Set the value of ",(0,i.jsx)(n.code,{children:"db_host_endpoint"})," to the ",(0,i.jsx)(n.code,{children:"rds_endpoint"})," value output from the rds-cluster deployment."]}),"\n",(0,i.jsxs)(n.li,{children:["Set the value of ",(0,i.jsx)(n.code,{children:"rds_security_group_id"})," to the ",(0,i.jsx)(n.code,{children:"security_group_id"})," value output from the rds-cluster deployment."]}),"\n",(0,i.jsxs)(n.li,{children:["You may change ",(0,i.jsx)(n.code,{children:"source"})," to an alternate release. If local, make sure it is within the scope of the container."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd ../cumulus-tf\nterraform init\nterraform plan\nterraform apply\n\n"})}),"\n",(0,i.jsx)("a",{name:"redirect-definition"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Go to ",(0,i.jsx)(n.a,{href:"https://uat.urs.earthdata.nasa.gov/profile",children:"https://uat.urs.earthdata.nasa.gov/profile"})]}),"\n",(0,i.jsx)(n.li,{children:"Applications -> My Applications"}),"\n",(0,i.jsx)(n.li,{children:"Click on the Edit button for your application."}),"\n",(0,i.jsx)(n.li,{children:"Click on Manage -> Redirect Uris"}),"\n",(0,i.jsxs)(n.li,{children:["Add ",(0,i.jsx)(n.a,{href:"http://localhost:3000/auth",children:"http://localhost:3000/auth"})," and the ",(0,i.jsx)(n.code,{children:"archive_api_redirect_uri"})," and ",(0,i.jsx)(n.code,{children:"distribution_redirect_uri"})," output from ",(0,i.jsx)(n.code,{children:"terraform apply"}),"."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>a});var s=r(6540);const i={},t=s.createContext(i);function o(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);