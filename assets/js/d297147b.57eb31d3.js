"use strict";(self.webpackChunkorca_website=self.webpackChunkorca_website||[]).push([[4113],{2662:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>d,default:()=>c,frontMatter:()=>a,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"developer/development-guide/documentation/contrib-documentation-deploy","title":"Deploying Documentation","description":"The following sections provide information to ORCA users to create automated or","source":"@site/docs/developer/development-guide/documentation/documentation-deployment.md","sourceDirName":"developer/development-guide/documentation","slug":"/developer/development-guide/documentation/contrib-documentation-deploy","permalink":"/cumulus-orca/docs/developer/development-guide/documentation/contrib-documentation-deploy","draft":false,"unlisted":false,"editUrl":"https://github.com/nasa/cumulus-orca/edit/develop/website/docs/developer/development-guide/documentation/documentation-deployment.md","tags":[],"version":"current","frontMatter":{"id":"contrib-documentation-deploy","title":"Deploying Documentation","desc":"Provides basic information on deploying ORCA documentation to nasa.github.io"},"sidebar":"dev_guide","previous":{"title":"Documentation Style Guide","permalink":"/cumulus-orca/docs/developer/development-guide/documentation/documentation-style-guide"},"next":{"title":"Deployment Information","permalink":"/cumulus-orca/docs/developer/deployment-guide/deployment"}}');var i=t(4848),s=t(8453);const a={id:"contrib-documentation-deploy",title:"Deploying Documentation",desc:"Provides basic information on deploying ORCA documentation to nasa.github.io"},d=void 0,r={},l=[{value:"Automated Documentation Release on Github",id:"automated-documentation-release-on-github",level:2},{value:"Manual Documentation Release on Github",id:"manual-documentation-release-on-github",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["The following sections provide information to ORCA users to create automated or\nmanual releases on github. View the entire versioning and releases document\n",(0,i.jsx)(n.a,{href:"https://github.com/nasa/cumulus-orca/blob/master/docs/release.md",children:"here"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"automated-documentation-release-on-github",children:"Automated Documentation Release on Github"}),"\n",(0,i.jsxs)(n.p,{children:["The release is automated in Bamboo, but the step must be manually started. If\nyou set the ",(0,i.jsx)(n.code,{children:"RELEASE_FLAG"})," to ",(0,i.jsx)(n.code,{children:"true"}),' and the build steps passed, you will be\nable to run the manual "Release" step in Bamboo.']}),"\n",(0,i.jsxs)(n.p,{children:["On a successful automated release, the updated documentation is committed to\nthe ",(0,i.jsx)(n.code,{children:"gh-pages"})," branch of the ",(0,i.jsx)(n.a,{href:"https://github.com/nasa/cumulus-orca",children:"Cumulus ORCA repo"}),".\nThe updated documentation should be available on the ",(0,i.jsx)(n.a,{href:"https://nasa.github.io/cumulus-orca",children:"Cumulus ORCA website"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"manual-documentation-release-on-github",children:"Manual Documentation Release on Github"}),"\n",(0,i.jsxs)(n.p,{children:["Use the following steps to update Github documentation manually. Additional\ndeployment information can be found at the ",(0,i.jsx)(n.a,{href:"https://docusaurus.io/docs/deployment",children:"Docusaurus deployment page"}),"."]}),"\n",(0,i.jsx)(n.admonition,{title:"Important",type:"important",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Users need the latest LTS Node version installed to perform manual updates to documentation."}),"\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.code,{children:"Deployment_Branch"})," must = ",(0,i.jsx)(n.strong,{children:"gh-pages"}),"."]}),"\n"]})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Clone the Cumulus ORCA repo to your machine. Enter the repo directory and\nchange to the proper branch."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"git clone https://github.com/nasa/cumulus-orca.git\ncd cumulus-orca\ngit checkout release-X.Y.Z\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Enter the ",(0,i.jsx)(n.code,{children:"website"})," directory"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"cd website\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Export the needed environment variables. Make sure to use your GitHub\nusername and password."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"export DEPLOYMENT_BRANCH=gh-pages\nexport GIT_USER=$bamboo_SECRET_GITHUB_USER\nexport GIT_PASS=$bamboo_SECRET_GITHUB_TOKEN\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"If your user email and username configuration is not set for git, that must\nbe done before running the deploy in order to avoid errors when pushing to\nthe GitHub repository. If the config is set, this step can be skipped."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:'git config --global user.email "$bamboo_SECRET_GITHUB_EMAIL"\ngit config --global user.name "$GIT_USER"\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Run the deployment script via npm."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"npm run deploy\n"})}),"\n"]}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>d});var o=t(6540);const i={},s=o.createContext(i);function a(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);