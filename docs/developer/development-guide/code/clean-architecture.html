<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-developer/development-guide/code/clean-architecture" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.0">
<title data-rh="true">Clean Architecture | Operational Recovery Cloud Archive (ORCA)</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://nasa.github.io/cumulus-orca/docs/developer/development-guide/code/clean-architecture"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Clean Architecture | Operational Recovery Cloud Archive (ORCA)"><meta data-rh="true" name="description" content="Overview of Clean Architecture for ORCA"><meta data-rh="true" property="og:description" content="Overview of Clean Architecture for ORCA"><link data-rh="true" rel="icon" href="/cumulus-orca/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://nasa.github.io/cumulus-orca/docs/developer/development-guide/code/clean-architecture"><link data-rh="true" rel="alternate" href="https://nasa.github.io/cumulus-orca/docs/developer/development-guide/code/clean-architecture" hreflang="en"><link data-rh="true" rel="alternate" href="https://nasa.github.io/cumulus-orca/docs/developer/development-guide/code/clean-architecture" hreflang="x-default"><link rel="stylesheet" href="/cumulus-orca/assets/css/styles.36534ff5.css">
<script src="/cumulus-orca/assets/js/runtime~main.90ab2bfd.js" defer="defer"></script>
<script src="/cumulus-orca/assets/js/main.ca73b07f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cumulus-orca/"><div class="navbar__logo"><img src="/cumulus-orca/img/cumulus-orca-logo.svg" alt="ORCA site logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/cumulus-orca/img/cumulus-orca-logo.svg" alt="ORCA site logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Operational Recovery Cloud Archive (ORCA)</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/cumulus-orca/docs/about/introduction/orca-intro">About ORCA</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cumulus-orca/docs/developer/quickstart/developer-intro">Developer Guide</a><a class="navbar__item navbar__link" href="/cumulus-orca/docs/operator/operator-intro">Operator Guide</a><a href="https://github.com/nasa/cumulus-orca" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/cumulus-orca/docs/developer/quickstart/developer-intro">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/cumulus-orca/docs/developer/development-guide/code/contrib-code-intro">Development Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/cumulus-orca/docs/developer/development-guide/code/contrib-code-intro">Developing Code</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/development-guide/code/contrib-code-intro">Code Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/development-guide/code/setup-dev-env">Setting Up a Dev Environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/development-guide/code/best-practices">Best Practices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cumulus-orca/docs/developer/development-guide/code/clean-architecture">Clean Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/development-guide/code/versioning-releases">ORCA Versioning and Releases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/development-guide/code/linting">Running Pylint Against Your Code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/development-guide/code/local-debugging">Local Debugging with AWS Resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/development-guide/code/unit-tests">Unit Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/development-guide/code/integration-tests">Integration Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/development-guide/code/postgres-tests">Postgres Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/development-guide/code/orca-logging">ORCA Logs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/development-guide/code/parallel-scripting">Parallel Scripting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/development-guide/code/postgres-tips">Postgres Paging</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/cumulus-orca/docs/developer/development-guide/documentation/contrib-documentation-intro">Developing Documentation</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/cumulus-orca/docs/developer/deployment-guide/deployment">Deployment Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/cumulus-orca/docs/developer/api">API Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/cumulus-orca/docs/developer/research/research-intro">Research</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/cumulus-orca/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Development Guide</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Developing Code</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Clean Architecture</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Clean Architecture</h1></header><p>Our definition of Clean Architecture, including images used in this file,
come from the <a href="https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html" target="_blank" rel="noopener noreferrer">Clean Coder blog</a>.</p>
<img alt="Clean Architecture Overview" src="/cumulus-orca/img/CleanArchitecture.jpg">
<p>While the broad strokes remain the same as the Clean Coder definitions, this document will tie into our current architecture for realistic examples.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="broad-strokes">Broad Strokes<a href="#broad-strokes" class="hash-link" aria-label="Direct link to Broad Strokes" title="Direct link to Broad Strokes">​</a></h3>
<ul>
<li>Layers in Clean Architecture are ordered such that outer layers are dependent on inner layers.<!-- -->
<ul>
<li>The opposite should never be the case, or at least as little as possible.</li>
<li>The ideal state is that if an element in an outer layer changes it should change none of the layers within it.</li>
</ul>
</li>
<li>The closer you get to the innermost layer, the closer you are to the raw business logic that acts on raw data.</li>
<li>The number and labels of layers are not important, and are simply used as shorthand for the types of resources present at deeper/higher levels.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="layers">Layers<a href="#layers" class="hash-link" aria-label="Direct link to Layers" title="Direct link to Layers">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reasons-for-layers">Reasons for Layers<a href="#reasons-for-layers" class="hash-link" aria-label="Direct link to Reasons for Layers" title="Direct link to Reasons for Layers">​</a></h3>
<ul>
<li>Isolating layers reduces the chance for changes to that layer to affect other layers.
For example, if the Database code is isolated from the business logic, then changes to database technology will not require rewriting business logic.</li>
<li>Allows development and testing of individual components without an understanding of the tech stack beyond that component.</li>
</ul>
<a name="frameworks-and-drivers"></a>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="frameworks-and-drivers-layer">&quot;Frameworks and Drivers&quot; Layer<a href="#frameworks-and-drivers-layer" class="hash-link" aria-label="Direct link to &quot;Frameworks and Drivers&quot; Layer" title="Direct link to &quot;Frameworks and Drivers&quot; Layer">​</a></h3>
<ul>
<li>The outermost layer, often components external to the central product.</li>
<li>May change based on changes from inner layers.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="orca-examples">Orca Examples<a href="#orca-examples" class="hash-link" aria-label="Direct link to Orca Examples" title="Direct link to Orca Examples">​</a></h4>
<ul>
<li>API Gateway</li>
<li>Postgres Database</li>
<li>S3 Buckets</li>
<li>SQS Queues</li>
<li>Lambda API</li>
<li>Step Functions</li>
</ul>
<a name="interface"></a>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="interface-adapters-layer">&quot;Interface Adapters&quot; Layer<a href="#interface-adapters-layer" class="hash-link" aria-label="Direct link to &quot;Interface Adapters&quot; Layer" title="Direct link to &quot;Interface Adapters&quot; Layer">​</a></h3>
<ul>
<li>Best viewed as a sub-section of the <a href="#frameworks-and-drivers">&quot;Frameworks and Drivers&quot; layer</a>.<!-- -->
<ul>
<li>Changes to the database change this layer as well, which would otherwise contradict the dependency chain of Clean Architecture.</li>
</ul>
</li>
<li>Translates data between the forms required for the external components above it, and the internal components beneath it.<!-- -->
<ul>
<li>All technical details from the above layer should be stripped before handing down to the lower layer.</li>
</ul>
</li>
<li>Receives calls from the layer above it and/or the layer beneath it.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resource-examples">Resource Examples<a href="#resource-examples" class="hash-link" aria-label="Direct link to Resource Examples" title="Direct link to Resource Examples">​</a></h4>
<ul>
<li>Centralized code for contacting the Postgres Database</li>
<li>Centralized code for posting events to SQS Queues</li>
<li>Pulling relevant information out of parameters passed to Lambda <code>handler</code> functions before calling additional logic</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="code-examples">Code Examples<a href="#code-examples" class="hash-link" aria-label="Direct link to Code Examples" title="Direct link to Code Examples">​</a></h4>
<ul>
<li><a href="https://github.com/nasa/cumulus-orca/blob/master/tasks/internal_reconcile_report_orphan/src/adapters/storage/rdbms.py" target="_blank" rel="noopener noreferrer">Storage adapter <code>rdbms.py</code></a>
<ul>
<li>Provides access to database without requiring knowledge of database outside of constructor.</li>
<li>Implements single-purpose interface to allow future features to use different storage adapters as needed.</li>
<li>Allows additional layer between RDBMS database technologies by isolating technology-specific SQL to abstract methods.</li>
</ul>
</li>
</ul>
<a name="use-cases"></a>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="use-cases-layer">&quot;Use Cases&quot; Layer<a href="#use-cases-layer" class="hash-link" aria-label="Direct link to &quot;Use Cases&quot; Layer" title="Direct link to &quot;Use Cases&quot; Layer">​</a></h3>
<ul>
<li>The business logic of the application, often analogous to user stories.<!-- -->
<ul>
<li>Larger features and flows may consist of several Use Cases chained together by SQS Queues or Step Functions.</li>
</ul>
</li>
<li>May call higher or lower components as needed, though neither should need to know the details of the other.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resource-examples-1">Resource Examples<a href="#resource-examples-1" class="hash-link" aria-label="Direct link to Resource Examples" title="Direct link to Resource Examples">​</a></h4>
<ul>
<li><code>task</code> functions in Lambdas that perform a series of operations.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="code-examples-1">Code Examples<a href="#code-examples-1" class="hash-link" aria-label="Direct link to Code Examples" title="Direct link to Code Examples">​</a></h4>
<ul>
<li><a href="https://github.com/nasa/cumulus-orca/blob/master/tasks/internal_reconcile_report_orphan/src/use_cases/get_orphans_page.py" target="_blank" rel="noopener noreferrer">Use case <code>get_orphans_page.py</code></a>
<ul>
<li>Performs the underlying flow of getting results from the database adapter, and passing them out to the caller.</li>
<li>Accepts adapters for specific purposes.</li>
</ul>
</li>
</ul>
<a name="entities"></a>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="entities-layer">&quot;Entities&quot; Layer<a href="#entities-layer" class="hash-link" aria-label="Direct link to &quot;Entities&quot; Layer" title="Direct link to &quot;Entities&quot; Layer">​</a></h3>
<ul>
<li>Simple, reusable objects and functions.</li>
<li>Can only communicate with the <a href="#use-cases">Use Cases layer</a>.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="resource-examples-2">Resource Examples<a href="#resource-examples-2" class="hash-link" aria-label="Direct link to Resource Examples" title="Direct link to Resource Examples">​</a></h4>
<ul>
<li>Shared helper libraries without external dependencies</li>
<li>Individual Lambda functions</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="code-examples-2">Code Examples<a href="#code-examples-2" class="hash-link" aria-label="Direct link to Code Examples" title="Direct link to Code Examples">​</a></h4>
<ul>
<li><a href="https://github.com/nasa/cumulus-orca/blob/master/tasks/internal_reconcile_report_orphan/src/entities/orphan.py" target="_blank" rel="noopener noreferrer">Entity <code>orphan.py</code></a>
<ul>
<li>Simple data classes.</li>
<li>Standardizes information transfer between classes without the need for dictionary keys.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="additional-thoughts">Additional Thoughts<a href="#additional-thoughts" class="hash-link" aria-label="Direct link to Additional Thoughts" title="Direct link to Additional Thoughts">​</a></h2>
<ul>
<li>
<p>Categorization of some resources are blurred.</p>
<ul>
<li>I have attempted to place each resource type type in its highest possible layer to encourage viewing that type&#x27;s availability as mutable.</li>
<li>StepFunctions are analogous to user stories, but are AWS reliant components and require a translation layer.</li>
<li>The Lambda API (parameters for the handler) are dictated by AWS.
Lambdas also contain business logic, and should therefore contain their own translation layer between API and business logic.</li>
</ul>
</li>
<li>
<p>Orca does currently have some architecture that does not follow these principles.</p>
<ul>
<li>Database code is mixed into some of our lambdas, and the Postgres return structure in particular is used frequently rather than reformatting to avoid entanglement.</li>
<li>We hope to clean some of this up, and to use these aforementioned practices going forward.</li>
</ul>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/nasa/cumulus-orca/edit/develop/website/docs/developer/development-guide/code/clean-architecture.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/cumulus-orca/docs/developer/development-guide/code/best-practices"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Best Practices</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cumulus-orca/docs/developer/development-guide/code/versioning-releases"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ORCA Versioning and Releases</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#broad-strokes" class="table-of-contents__link toc-highlight">Broad Strokes</a></li><li><a href="#layers" class="table-of-contents__link toc-highlight">Layers</a><ul><li><a href="#reasons-for-layers" class="table-of-contents__link toc-highlight">Reasons for Layers</a></li><li><a href="#frameworks-and-drivers-layer" class="table-of-contents__link toc-highlight">&quot;Frameworks and Drivers&quot; Layer</a></li><li><a href="#interface-adapters-layer" class="table-of-contents__link toc-highlight">&quot;Interface Adapters&quot; Layer</a></li><li><a href="#use-cases-layer" class="table-of-contents__link toc-highlight">&quot;Use Cases&quot; Layer</a></li><li><a href="#entities-layer" class="table-of-contents__link toc-highlight">&quot;Entities&quot; Layer</a></li></ul></li><li><a href="#additional-thoughts" class="table-of-contents__link toc-highlight">Additional Thoughts</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cumulus-orca/docs/about/introduction/orca-intro">About ORCA</a></li><li class="footer__item"><a class="footer__link-item" href="/cumulus-orca/docs/developer/quickstart/developer-intro">ORCA Developer Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/cumulus-orca/docs/operator/operator-intro">ORCA Operator Guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://wiki.earthdata.nasa.gov/display/CUMULUS/ORCA+Working+Group" target="_blank" rel="noopener noreferrer" class="footer__link-item">ORCA Working Group<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/nasa/cumulus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cumulus Project<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://wiki.earthdata.nasa.gov/display/CUMULUS/Cumulus+Integrators+Working+Group" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cumulus Integrator Working Group<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://wiki.earthdata.nasa.gov/display/CUMULUS/Cumulus+Operator+Working+Group" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cumulus Operator Working Group<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://nasa.github.io/cumulus/docs/cumulus-docs-readme" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cumulus Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/nasa/cumulus-orca" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
</body>
</html>