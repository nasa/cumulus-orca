<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-developer/research/research-reconciliation" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">ORCA Reconciliation | Operational Recovery Cloud Archive (ORCA)</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://nasa.github.io/cumulus-orca/docs/developer/research/research-reconciliation"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ORCA Reconciliation | Operational Recovery Cloud Archive (ORCA)"><meta data-rh="true" name="description" content="Initial notes, design and ideas related to ORCA Reconciliation with Cumulus"><meta data-rh="true" property="og:description" content="Initial notes, design and ideas related to ORCA Reconciliation with Cumulus"><link data-rh="true" rel="icon" href="/cumulus-orca/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://nasa.github.io/cumulus-orca/docs/developer/research/research-reconciliation"><link data-rh="true" rel="alternate" href="https://nasa.github.io/cumulus-orca/docs/developer/research/research-reconciliation" hreflang="en"><link data-rh="true" rel="alternate" href="https://nasa.github.io/cumulus-orca/docs/developer/research/research-reconciliation" hreflang="x-default"><link rel="stylesheet" href="/cumulus-orca/assets/css/styles.be3cddbf.css">
<script src="/cumulus-orca/assets/js/runtime~main.5c4b3b28.js" defer="defer"></script>
<script src="/cumulus-orca/assets/js/main.37f4085e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cumulus-orca/"><div class="navbar__logo"><img src="/cumulus-orca/img/cumulus-orca-logo.svg" alt="ORCA site logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/cumulus-orca/img/cumulus-orca-logo.svg" alt="ORCA site logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Operational Recovery Cloud Archive (ORCA)</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/cumulus-orca/docs/about/introduction/orca-intro">About ORCA</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cumulus-orca/docs/developer/quickstart/developer-intro">Developer Guide</a><a class="navbar__item navbar__link" href="/cumulus-orca/docs/operator/operator-intro">Operator Guide</a><a href="https://github.com/nasa/cumulus-orca" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus-orca/docs/developer/quickstart/developer-intro">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus-orca/docs/developer/development-guide/code/contrib-code-intro">Development Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus-orca/docs/developer/deployment-guide/deployment">Deployment Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus-orca/docs/developer/api">API Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/cumulus-orca/docs/developer/research/research-intro">Research</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-intro">Introduction to ORCA Research</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-localstack">Localstack Research Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-APIGateway">API Gateway Research Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cumulus-orca/docs/developer/research/research-reconciliation">ORCA Reconciliation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-AuroraServerless">Aurora Serverless Research Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-graphql">GraphQL Research Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-multipart-chunksize">Multipart Chunksize Research Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-bamboo">Bamboo specs Research Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-orca-delete-functionality">Research Notes on ORCA delete functionality.</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-bamboo-integration-tests">Research Notes on running integration tests in bamboo CI/CD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-lambda-container">Using Lambda functions as container research Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-pushing-docker-image">Notes on pushing and deploying docker images.</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-s3-bucket-best-practices">S3 Future Direction/Best Practices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-deep-archive-migration">Deep Archive Storage Migration Research Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-logging-libraries">Logging Libraries Research Notes</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/cumulus-orca/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Research</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">ORCA Reconciliation</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>ORCA Reconciliation</h1></header><p>As part of enhancing ORCA, a needed feature by the working group is being able to
reconcile between the ORCA inventory and the Cumulus inventory to determine what
file(s) are missing or extra in each catalog. The ORCA team has met with Cumulus
several times to understand current reconciliation patterns. Notes from those
interface meetings are available below. In addition, there are several resources
available from Cumulus and LZARDS which also has to deal with reconciliation in
a manor similar to ORCA. It is understood that ORCA will provide the data, but
Cumulus will perform the comparison and reporting work to match current reconcile
patterns.</p>
<ul>
<li><a href="https://wiki.earthdata.nasa.gov/pages/viewpage.action?pageId=195434181" target="_blank" rel="noopener noreferrer">January 28, 2020 Meeting Notes</a></li>
<li><a href="https://wiki.earthdata.nasa.gov/pages/viewpage.action?pageId=199918974" target="_blank" rel="noopener noreferrer">March 4, 2021 Meeting Notes</a></li>
<li><a href="https://wiki.earthdata.nasa.gov/pages/viewpage.action?pageId=202806645" target="_blank" rel="noopener noreferrer">March 29, 2021 Meeting Notes</a></li>
<li><a href="https://wiki.earthdata.nasa.gov/display/CUMULUS/Prototype+LZARDS+reconciliation+reports" target="_blank" rel="noopener noreferrer">LZARDS Prototype Reconciliation Reports</a></li>
<li><a href="https://nasa.github.io/cumulus-api/#create-reconciliation-report" target="_blank" rel="noopener noreferrer">Cumulus Reconciliation API</a></li>
<li><a href="https://github.com/nasa/cumulus/tree/1e6d63deab3e0cf464b2e8b545258ba1ebb4e05d/lambdas/db-migration/src/migrations" target="_blank" rel="noopener noreferrer">Cumulus table definitions</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="metadata-needed-for-cumulus-comparison">Metadata Needed for Cumulus Comparison<a href="#metadata-needed-for-cumulus-comparison" class="hash-link" aria-label="Direct link to Metadata Needed for Cumulus Comparison" title="Direct link to Metadata Needed for Cumulus Comparison">​</a></h2>
<p>The following filters can be applied to a query for determining which files to
bring back for catalog comparison between the Cumulus inventory and ORCA.</p>
<table><thead><tr><th>Name</th><th>Data Type</th><th>Description</th></tr></thead><tbody><tr><td>providerId</td><td><code>List[str]</code></td><td>The unique ID of the provider(s) making the request.</td></tr><tr><td>collectionId</td><td><code>List[str]</code></td><td>The unique ID of collection(s) to compare.</td></tr><tr><td>granuleId</td><td><code>List[str]</code></td><td>The unique ID of granule(s) to compare.</td></tr><tr><td>startTimestamp</td><td><code>timestamp</code></td><td>Start time for cumulus_create_time date range to compare data.</td></tr><tr><td>endTimestamp</td><td><code>timestamp</code></td><td>End time for cumulus_create_time date range to compare data.</td></tr></tbody></table>
<p>When querying ORCA for the information these filters will be AND together for a
comparison answer.</p>
<p>The sections below provide information on how these filters relate with the
expected metadata objects, the attributes those data objects may need for comparison
and investigation, and other items related to the data when making the comparison.</p>
<p>The metadata objects include the following.</p>
<ul>
<li><strong>Provider</strong> (providerId)</li>
<li><strong>Collection</strong> (collectionId)</li>
<li><strong>Granule</strong> (granuleId, startTimestamp, endTimestamp)</li>
<li><strong>File</strong> - Needed for comparison.</li>
<li><strong>File Version</strong> - Needed for comparison, latest version only.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="relationship-of-the-metadata-objects">Relationship of the Metadata Objects<a href="#relationship-of-the-metadata-objects" class="hash-link" aria-label="Direct link to Relationship of the Metadata Objects" title="Direct link to Relationship of the Metadata Objects">​</a></h3>
<ul>
<li>A <strong>Provider</strong> contains an unique ID and is made up of one or more Collections.</li>
<li>A <strong>Collection</strong> contains an unique ID that contains the short name, and version and is made up of one or more Granules.</li>
<li>A <strong>Granule</strong> contains an unique ID and is made up of one or more Files.</li>
<li>A <strong>File</strong> contains a name unique to the <em>Granule ID</em> and is made up of one or more File Versions.</li>
<li>A <strong>File Version</strong> contains the versions, sizes, hashes and etags of a file along with pertinent dates.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="potential-attributes-of-the-metadata-objects">Potential Attributes of the Metadata Objects<a href="#potential-attributes-of-the-metadata-objects" class="hash-link" aria-label="Direct link to Potential Attributes of the Metadata Objects" title="Direct link to Potential Attributes of the Metadata Objects">​</a></h3>
<p>The following provides the potential metadata attributes that need to be captured
for each object in order to properly filter and provide information back to Cumulus
for reconciliation and Operator investigation of discrepancies.
A draft schema for how the objects would interact and be tied together can be
seen below.</p>
<img src="/cumulus-orca/img/Research-Reconciliation-orca-inventory-schema.png" zoominpic="/cumulus-orca/img/zoom-in.svg" zoomoutpic="/cumulus-orca/img/zoom-out.svg" resetpic="/cumulus-orca/img/zoom-pan-reset.svg">
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Optional Attributes</div><div class="admonitionContent_BuS1"><p>When noted, optional attributes are items not strictly needed for reconciliation
but may provide value for additional enhancements which may occur in the future
to query and filter the data for data management activities.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="provider-metadata-object">Provider Metadata Object<a href="#provider-metadata-object" class="hash-link" aria-label="Direct link to Provider Metadata Object" title="Direct link to Provider Metadata Object">​</a></h4>
<table><thead><tr><th>Attribute Name</th><th>Data Type</th><th>Description</th><th>Notable Items</th></tr></thead><tbody><tr><td>provider_id</td><td><code>string</code></td><td>providerId that is provided by Cumulus.</td><td>Must be unique.</td></tr><tr><td>name</td><td><code>string</code></td><td>Unique name of the provider.</td><td>Optional but may provide more value for future items.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="collection-metadata-object">Collection Metadata Object<a href="#collection-metadata-object" class="hash-link" aria-label="Direct link to Collection Metadata Object" title="Direct link to Collection Metadata Object">​</a></h4>
<table><thead><tr><th>Attribute Name</th><th>Data Type</th><th>Description</th><th>Notable Items</th></tr></thead><tbody><tr><td>collection_id</td><td><code>string</code></td><td>collectionId that is provided by Cumulus.</td><td>Must be unique per providerId.</td></tr><tr><td>shortname</td><td><code>string</code></td><td>Short name of the collection (AST_L1A).</td><td>Optional but may provide more value for future items.</td></tr><tr><td>version</td><td><code>string</code></td><td>Version of the collection (061).</td><td>Optional but may provide more value for future items.</td></tr></tbody></table>
<p>I also considered adding attributes for collection configuration information like
the <em>excluded file types</em>, <em>default archive bucket</em>, and other ORCA configurations.
Thinking through it though, I felt it was better to leave these with Cumulus and
perform a lookup if they are needed. This was primarily for two reasons. First,
there are really no need for them for reconciliation within ORCA. Second, keeping
the values in sync with changes made by operators through the Cumulus Dashboard
seemed a bit challenging and did not appear to provide a real benefit.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="granule-metadata-object">Granule Metadata Object<a href="#granule-metadata-object" class="hash-link" aria-label="Direct link to Granule Metadata Object" title="Direct link to Granule Metadata Object">​</a></h4>
<table><thead><tr><th>Attribute Name</th><th>Data Type</th><th>Description</th><th>Notable Items</th></tr></thead><tbody><tr><td>id</td><td><code>string</code></td><td>Internal ORCA granule ID pseudo key.</td><td>None</td></tr><tr><td>collection_id</td><td><code>string</code></td><td>Collection ID from Cumulus that references the Collections table.</td><td>None</td></tr><tr><td>cumulus_create_time</td><td><code>timestamp</code></td><td>createdAt time from Cumulus</td><td>None</td></tr><tr><td>cumulus_granule_id</td><td><code>string</code></td><td>granuleId that is provided by Cumulus.</td><td>Must be unique per collectionId</td></tr><tr><td>execution_id</td><td><code>string</code></td><td>Step function execution ID from AWS.</td><td>Unique ID automatically generated by AWS</td></tr><tr><td>ingest_time</td><td><code>timestamp</code></td><td>Date and time in UTC that the data was originally ingested into ORCA.</td><td>None</td></tr><tr><td>last_update</td><td><code>timestamp</code></td><td>Date and time in UTC that information was updated.</td><td>None</td></tr></tbody></table>
<p>Note that the combination of the Cumulus Granule ID (cumulus_granule_id) and
the Cumulus Collection ID (collection_id) is unique in the
<a href="https://github.com/nasa/cumulus/blob/master/lambdas/db-migration/src/migrations/20201014105058_create_granules_table.ts" target="_blank" rel="noopener noreferrer">Cumulus granules table</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="file-metadata-object">File Metadata Object<a href="#file-metadata-object" class="hash-link" aria-label="Direct link to File Metadata Object" title="Direct link to File Metadata Object">​</a></h4>
<table><thead><tr><th>Attribute Name</th><th>Data Type</th><th>Description</th><th>Notable Items</th></tr></thead><tbody><tr><td>id</td><td><code>string</code></td><td>Internal ORCA file ID</td><td>None</td></tr><tr><td>granule_id</td><td><code>string</code></td><td>Granule that the file belongs to references the internal ORCA granule ID.</td><td>None</td></tr><tr><td>name</td><td><code>string</code></td><td>Name of the file. (MOD14A1.061.2020245.hdf)</td><td>Must be unique per granuleId</td></tr><tr><td>orca_archive_location</td><td><code>string</code></td><td>ORCA S3 Glacier bucket the file resides in.</td><td>None</td></tr><tr><td>cumulus_archive_location</td><td><code>string</code></td><td>Cumulus S3 bucket the file is expected to reside in.</td><td>None</td></tr><tr><td>key_path</td><td><code>string</code></td><td>S3 path to the file including the file name and extension, but not the bucket.</td><td>Must be unique per archive location</td></tr><tr><td>ingest_time</td><td><code>timestamp</code></td><td>Date and time in UTC that the data was originally ingested into ORCA</td><td>None</td></tr><tr><td>etag</td><td><code>string</code></td><td>etag of the file object in the AWS S3 Glacier bucket.</td><td>None</td></tr><tr><td>version</td><td><code>string</code></td><td>AWS provided version of the file.</td><td>Must be unique per file name/key_path</td></tr><tr><td>size_in_bytes</td><td><code>int</code></td><td>Size in bytes of the file. From Cumulus ingest.</td><td>Part of object passed to archive from Cumulus.</td></tr><tr><td>hash</td><td><code>string</code></td><td>Checksum hash of the file provided by Cumulus.</td><td>Optional. Part of object passed to archive from Cumulus.</td></tr><tr><td>hash_type</td><td><code>string</code></td><td>Hash type used to calculate the hash value of the file.</td><td>Optional. Part of object passed to archive from Cumulus.</td></tr></tbody></table>
<p>Note that in Cumulus the combination of the bucket (cumulus_archive_location)
and key (key_path) is unique in the <a href="https://github.com/nasa/cumulus/blob/master/lambdas/db-migration/src/migrations/20201014105102_create_files_table.ts" target="_blank" rel="noopener noreferrer">Cumulus files table</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="file-version-object">File Version Object<a href="#file-version-object" class="hash-link" aria-label="Direct link to File Version Object" title="Direct link to File Version Object">​</a></h4>
<table><thead><tr><th>Attribute Name</th><th>Data Type</th><th>Description</th><th>Notable Items</th></tr></thead><tbody><tr><td>version</td><td><code>string</code></td><td>AWS provided version of the file.</td><td>Must be unique per file name/key_path</td></tr><tr><td>is_latest</td><td><code>boolean</code></td><td>AWS provided flag denoting that it is the latest version.</td><td>Only one can be latest per file name/key_path. Depending of final table structure this may be optional.</td></tr><tr><td>etag</td><td><code>string</code></td><td>AWS provided etag of the versioned file. Semi unique</td><td>Potentially optional maybe able to be used for internal comparisons and/or data management investigations.</td></tr><tr><td>cumulus_etag</td><td><code>string</code></td><td>Cumulus provided AWS etag of the file in Cumulus.</td><td>Potentially optional. Would need to determine if this information passed along. May be helpful for data management comparisons.</td></tr><tr><td>size_in_bytes</td><td><code>bigint</code></td><td>Size in bytes of the file. From Cumulus ingest.</td><td>Part of object passed to archive from Cumulus.</td></tr><tr><td>hash</td><td><code>string</code></td><td>Checksum hash of the file provided by Cumulus.</td><td>Part of object passed to archive from Cumulus.</td></tr><tr><td>hash_type</td><td><code>string</code></td><td>Hash type used to calculate the hash value of the file.</td><td>Part of object passed to archive from Cumulus.</td></tr><tr><td>ingest_time</td><td><code>timestamp</code></td><td>Date and time in UTC that the file was ingested into ORCA</td><td>None</td></tr></tbody></table>
<p>It is possible that we may want to merge the <strong>File Version Object</strong> with the
<strong>File Object</strong>. If we were to merge the two objects, here are some things to
consider. By merging the objects we would likely only keep the latest version
information of the file in the table. By doing this we do simplify reconciliation
with Cumulus but, then the only catalog of all the versions available for a file
would reside in the glacier S3 bucket. The implication of this is there is no other
record of the various versions of the file. Also, we should need to query the S3
bucket if the data manager wanted to inquire what versions were available for a
file in order to restore the proper version back or to identify versions that may
be eligible for deletions based on policy. If we merge the objects, we may want to
capture the total versions available for the file.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="return-metadata-needed-by-cumulus">Return Metadata Needed by Cumulus<a href="#return-metadata-needed-by-cumulus" class="hash-link" aria-label="Direct link to Return Metadata Needed by Cumulus" title="Direct link to Return Metadata Needed by Cumulus">​</a></h3>
<p>At a minimum, the following metadata should be returned back to Cumulus upon a
successful query for reconciliation return from ORCA. The data below is what
is needed for reconciliation comparison and general metadata that may be needed
by the end user to perform analysis on discrepancies.</p>
<ul>
<li>Provider ID (providerId)</li>
<li>Collection ID (collectionId)</li>
<li>Shortname</li>
<li>collection Version</li>
<li>Granule ID (granuleId)</li>
<li>Cumulus create time</li>
<li>Execution ID</li>
<li>Granule Ingest Date (ORCA) - may also be referred to as a Create Date.</li>
<li>Granule Last Update (ORCA)</li>
<li>File Name</li>
<li>ORCA Location - archive bucket + archive path</li>
<li>Cumulus Archive Location</li>
<li>Key Path</li>
<li>Etag</li>
<li>File Size</li>
<li>File Hash (Optional)</li>
<li>File Hash Type (Optional)</li>
<li>File Version (always send back latest version to compare)</li>
</ul>
<p>A rough structure may look like the following below. In order to simplify
comparisons, only the latest file version information will be returned. Enhancements
we will need consider later include items like updating the latest flag in the
database and glacier on a file version when doing a recovery.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;anotherPage&quot;: false,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;granules&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;providerId&quot;: &quot;lpdaac&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;collectionId&quot;: &quot;MOD14A1___061&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;id&quot;: &quot;MOD14A1.061.A23V45.2020235&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;createdAt&quot;: &quot;2020-01-01T23:00:00Z&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;executionId&quot;: &quot;u654-123-Yx679&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;ingestDate&quot;: &quot;2020-01-01T23:00:00Z&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;lastUpdate&quot;: &quot;2020-01-01T23:00:00Z&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;files&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;name&quot;: &quot;MOD14A1.061.A23V45.2020235.2020240145621.hdf&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;cumulusArchiveLocation&quot;: &quot;cumulus-bucket&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;orcaArchiveLocation&quot;: &quot;orca-archive&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;keyPath&quot;: &quot;MOD14A1/061/032/MOD14A1.061.A23V45.2020235.2020240145621.hdf&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;sizeBytes&quot;: 100934568723,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;hash&quot;: &quot;ACFH325128030192834127347&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;hashType&quot;: &quot;SHA-256&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          &quot;version&quot;: &quot;VXCDEG902&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Some items we will need to think about include managing paging (start/stop) for
large returns and limiting size of the message across the wire.
Additionally, results should be ordered by granule_id.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="potential-orca-reconciliation-data-reporting-architecture">Potential ORCA Reconciliation Data Reporting Architecture<a href="#potential-orca-reconciliation-data-reporting-architecture" class="hash-link" aria-label="Direct link to Potential ORCA Reconciliation Data Reporting Architecture" title="Direct link to Potential ORCA Reconciliation Data Reporting Architecture">​</a></h3>
<p>The following provides a rough, high level architecture for reporting the ORCA
holdings to Cumulus. When providing data back to Cumulus, the solution should be
able to handle the filters supplied and return back the needed data. In addition,
the solution should be extensible and should allow for potential changes in the
underlying data structure or storage engine as ORCA should be able to handle AWS
PostgreSQL RDS, AWS Aurora PostgreSQL, and AWS Aurora PostgreSQL Serverless
offerings.</p>
<img src="/cumulus-orca/img/Research-Reconciliation-Cumulus-Reconcile.png" zoominpic="/cumulus-orca/img/zoom-in.svg" zoomoutpic="/cumulus-orca/img/zoom-out.svg" resetpic="/cumulus-orca/img/zoom-pan-reset.svg">
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="populating-the-metadata">Populating the metadata<a href="#populating-the-metadata" class="hash-link" aria-label="Direct link to Populating the metadata" title="Direct link to Populating the metadata">​</a></h2>
<p>Populating the metadata objects with the proper metadata will need to come from
various sources. The sections below will go through thoughts and ideas of where
the metadata will originate from to populate the objects and potential ideas on
what the underlying architecture may look like to perform the tasks.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="automated-cumulus-ingest-workflow">Automated Cumulus Ingest Workflow<a href="#automated-cumulus-ingest-workflow" class="hash-link" aria-label="Direct link to Automated Cumulus Ingest Workflow" title="Direct link to Automated Cumulus Ingest Workflow">​</a></h3>
<p>The conventional way of populating the objects with metadata would be through
the normal Cumulus ingest workflow that contains ORCA&#x27;s <code>copy_to_archive</code> lambda.
The <code>copy_to_archive</code> lambda would need to be modified to take or pull additional
metadata needed to associate a granule&#x27;s files to Cumulus, like <code>providerId</code>,
<code>collectionId</code>, <code>granuleId</code>, and various other file metadata information. The
additional collected metadata would sent to a queue to be written to the ORCA
catalog. The body sent to the queue would have enough information for another
ORCA lambda to write and/or update the records for the various objects in the ORCA
catalog.</p>
<p>Note that this new database write lambda or the <code>copy_to_archive</code> lambda may need
to make some additional queries to the S3 ORCA bucket to pull information like
version and other values. Looking at the original <code>copy_to_archive</code>, <code>s3.copy</code>
is used to copy data to the ORCA archive. Based on initial research located
<a href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3.html#S3.Client.copy" target="_blank" rel="noopener noreferrer">here</a>,
the <code>s3.copy</code> command does not return any information. See the test performed
below. Because of this, we will likely need to perform a listing on the object to
get additional information like the S3 object version as seen in the sample below.
Some items to consider when looking at the options for retrieving the additional
metadata include:</p>
<ul>
<li><em>speed</em> - How fast can I get the needed metadata?</li>
<li><em>cost</em> - What is the cost impact of additional gets on the s3 bucket?</li>
<li><em>complexity</em> - Where is the best place to put these additional gets? Is the overall design and/or implementation to complex?</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="boto3-copy-test">Boto3 Copy Test<a href="#boto3-copy-test" class="hash-link" aria-label="Direct link to Boto3 Copy Test" title="Direct link to Boto3 Copy Test">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> boto3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Create the Client</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">s3_client </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> boto3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">resource</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;s3&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Get a source and destination to copy</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">copy_source </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Bucket&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;orca-sandbox-s3-provider&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Key&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065111.hdf&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">copy_destination </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;orca-sandbox-archive&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># perform the copy command</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">copy_command </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> s3_client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">meta</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">copy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">copy_source</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> copy_destination</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> copy_source</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Key&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Return results</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">print</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">copy_command</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token boolean" style="color:rgb(255, 88, 116)">None</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="boto3-get-additional-file-information">Boto3 Get Additional File Information<a href="#boto3-get-additional-file-information" class="hash-link" aria-label="Direct link to Boto3 Get Additional File Information" title="Direct link to Boto3 Get Additional File Information">​</a></h4>
<p>This would occur after an <code>s3.copy</code> and assumes that the copy is synchronous and
that the file is not be ingested in parallel in a separate ingest pipeline that
would lead to a collision.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> boto3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Create the Client</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">s3_client </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> boto3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">resource</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;s3&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Get a source and destination to copy</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">copy_source </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Bucket&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;orca-sandbox-s3-provider&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Key&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065111.hdf&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">copy_destination </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;orca-sandbox-archive&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Get the versioning information</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">file_versions </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> s3_client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">meta</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">list_object_versions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Bucket</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">copy_destination</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Prefix</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">copy_source</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Key&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> version </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> file_versions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Versions&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> version</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;IsLatest&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">print</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">version</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Return results</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;STANDARD&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065111.hdf&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;VersionId&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;null&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;IsLatest&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">25</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">58</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Owner&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;DisplayName&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;gsfc-esdis-edc-lpdaac-sandbox-7343-root&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ID&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;4d102362d8dc848404655e5418ff76cd342418b8d2ea3a04aa5db133bd6ac1db&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Note that the data we would likely want are ETag, VersionId, Size, and LastModified.
In the example above, the file I used was not part of a versioned S3 bucket thus
the <code>null</code> value for VersionId.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="boto3-use-multipart-copy">Boto3 Use Multipart Copy<a href="#boto3-use-multipart-copy" class="hash-link" aria-label="Direct link to Boto3 Use Multipart Copy" title="Direct link to Boto3 Use Multipart Copy">​</a></h4>
<p>In addition to the items above, I also looked at multipart copy which would
return the information natively, but there is a 5Mb minimum size limit when
using this functionality which is not small enough for some of the small files
we may encounter. Reference information on multipart copy is provided below.</p>
<ul>
<li><a href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3.html#S3.Client.upload_part_copy" target="_blank" rel="noopener noreferrer">Boto3 Upload Part Copy Command</a></li>
<li><a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_UploadPartCopy.html" target="_blank" rel="noopener noreferrer">AWS API Upload Part Copy Reference</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="manually-run-orca-ingest-workflows">Manually Run ORCA Ingest Workflows<a href="#manually-run-orca-ingest-workflows" class="hash-link" aria-label="Direct link to Manually Run ORCA Ingest Workflows" title="Direct link to Manually Run ORCA Ingest Workflows">​</a></h3>
<p>When manually running a workflow to ingest data into ORCA, it is assumed that the
same modified <code>copy_to_archive</code> lambda used in an automated workflow would be used
in the manual workflow. This would mean the translation lambda used to pass the
proper information from the Cumulus Dashboard call to the <code>copy_to_archive</code> lambda
would need to retrieve and provide information similar to the information that
is provided by the <code>moveGranules</code> lambda in the normal workflow. The translation
lambda will likely need to leverage Cumulus API calls to get information related
to the files and granule from Cumulus. The following cards that are planned to be
worked during PI 21.2 contain information related to this type of workflow and
translation lambda. See the list below.</p>
<ul>
<li><a href="https://bugs.earthdata.nasa.gov/browse/ORCA-173" target="_blank" rel="noopener noreferrer">Understanding the Cumulus Dashboard Workflow Call Output</a></li>
<li><a href="https://bugs.earthdata.nasa.gov/browse/ORCA-175" target="_blank" rel="noopener noreferrer">Creating a Translate Lambda for Cumulus Dashboard Inputs for copy_to_archive</a></li>
<li><a href="https://bugs.earthdata.nasa.gov/browse/ORCA-182" target="_blank" rel="noopener noreferrer">Creating a Workflow for Ingesting Missing Files Into ORCA</a></li>
</ul>
<p>Work related to reconciliation will likely require modifications to the translation
lambda to pull additional information needed. The following are resources that may
be utilized to gather additional granule and file information from Cumulus if needed.
See the resource links below.</p>
<ul>
<li><a href="https://nasa.github.io/cumulus-api/#retrieve-granule" target="_blank" rel="noopener noreferrer">Cumulus API Get Granule Information</a></li>
<li><a href="https://nasa.github.io/cumulus-api/#bulk-operations" target="_blank" rel="noopener noreferrer">Cumulus API Bulk Operations</a></li>
<li><a href="https://cmr.earthdata.nasa.gov/search/site/docs/search/api.html#c-concept-id" target="_blank" rel="noopener noreferrer">CMR API Get Granule Information</a></li>
</ul>
<p>Note that the CMR call may not be necessary depending on the required metadata
needed. In addition, the CMR concept ID call can be retrieved from the <code>cmrLink</code>
key in the Cumulus API Get Granule Information. There may be some permission
issues to work through if the collection is not public or the granule is
hidden for some reason which means we would need to perform a login with a user
that would have access to see all of the providers holdings. Additional research
may need to be performed to better understand how to gather this information.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="back-population-of-the-orca-catalog">Back Population of the ORCA Catalog<a href="#back-population-of-the-orca-catalog" class="hash-link" aria-label="Direct link to Back Population of the ORCA Catalog" title="Direct link to Back Population of the ORCA Catalog">​</a></h3>
<p>Generally, the first two options listed will handle most use cases for adding
information to the ORCA archive. However, for users that already have ORCA
installations that are older than or equal to v3.x, a new workflow will need to
be created to back populate the ORCA metadata catalog. Ideally, this workflow
would be kicked off as part of the ORCA installation and/or migration.</p>
<p>As a general breakdown of the flow, the Lambda or Workflow will need to do the
following:</p>
<ol>
<li>Query Cumulus looking for Collections configured for ORCA.</li>
<li>Using the list of Collections configured for ORCA, retrieve the granule and file information.</li>
<li>Get a list of the files in each ORCA bucket.</li>
<li>Match attributes from the ORCA file list like file name, key path, and size to file(s) in the Cumulus list.</li>
<li>Create a message body from the information similar to what <code>copy_to_granule</code> will perform.</li>
<li>Send the message body to the SQS FIFO queue so the database lambda can write the record to the database.</li>
</ol>
<p>There are likely several ways to optimize this flow. The above is just a general
concept to help get the information needed to match files. Collection regex information
could also possibly be used. The Cumulus <a href="https://github.com/nasa/cumulus/blob/master/lambdas/db-migration/src/migrations/20201014105102_create_files_table.ts" target="_blank" rel="noopener noreferrer">files table</a>
allows us to match key based on our listing, but the combination of key and Cumulus
bucket are unique unique which means we could match multiple records based on
key alone.</p>
<p>Note that this concept of back populating by matching data is not 100% accurate
and is a best attempt to pull data and match it without &quot;re-ingesting&quot; items
back into ORCA. This approach will likely need lots of logging and reporting to
let end users know where discrepancies and best guesses or misses occur. We
should also talk with end users about this option prior to implementing to
determine if this is needed.</p>
<p>After discussions with the <a href="https://wiki.earthdata.nasa.gov/display/CUMULUS/ORCA+Working+Group" target="_blank" rel="noopener noreferrer">ORCA Working Group</a>
during the <a href="https://wiki.earthdata.nasa.gov/display/CUMULUS/2021-06-02+ORCA+Meeting+Notes" target="_blank" rel="noopener noreferrer">June meeting</a>
the concept above was discussed. The general consensus from the group was that re-population
of ORCA through a standalone workflow similar to the items laid out in the
<a href="#manually-run-orca-ingest-workflows">manual run</a> was the best option. In addition,
the question of whether the back population method described above was a
worthwhile path to pursue was posed on the orca Slack channel and the users
currently using ORCA all agreed they would rather re-ingest into ORCA as seen by
the Slack thread <a href="https://eosdis.slack.com/archives/CSXEM5MPX/p1622735484015400" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="potential-orca-catalog-population-architecture">Potential ORCA Catalog Population Architecture<a href="#potential-orca-catalog-population-architecture" class="hash-link" aria-label="Direct link to Potential ORCA Catalog Population Architecture" title="Direct link to Potential ORCA Catalog Population Architecture">​</a></h3>
<p>The following is a potential architecture for populating the ORCA catalog under
normal use cases. Note that the SQS queue and <code>orca_catalog_ingest</code> lambda could
be replaced with a GraphQL server if deemed appropriate.</p>
<img src="/cumulus-orca/img/Research-Reconciliation-Catalog-Population.png" zoominpic="/cumulus-orca/img/zoom-in.svg" zoomoutpic="/cumulus-orca/img/zoom-out.svg" resetpic="/cumulus-orca/img/zoom-pan-reset.svg">
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="possible-technologies-for-enabling-the-work">Possible Technologies for Enabling the Work<a href="#possible-technologies-for-enabling-the-work" class="hash-link" aria-label="Direct link to Possible Technologies for Enabling the Work" title="Direct link to Possible Technologies for Enabling the Work">​</a></h2>
<p>The following is a short list of technologies that could be leveraged during this
work. These technologies fall within current architectures for Cumulus and
extensions and may contribute to more rapid development of features as we progress.
A full list of AWS services available in NGAP is available <a href="https://wiki.earthdata.nasa.gov/display/ESKB/AWS+Services+Approval+Status+Page" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-gateway">API Gateway<a href="#api-gateway" class="hash-link" aria-label="Direct link to API Gateway" title="Direct link to API Gateway">​</a></h3>
<p>The ORCA API Gateway provides an entry point for the Cumulus dashboard and users
to interact directly with ORCA. For more information on the ORCA API gateway, see
the <a href="/cumulus-orca/docs/developer/research/research-APIGateway">API Gateway research page</a>. All reconciliation
calls from Cumulus should occur through the ORCA API Gateway.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="graphql">GraphQL<a href="#graphql" class="hash-link" aria-label="Direct link to GraphQL" title="Direct link to GraphQL">​</a></h3>
<p><a href="https://graphql.org/learn/" target="_blank" rel="noopener noreferrer">GraphQL</a> is a query language for APIs. This is an
additional research spike topic. The promise of this route further consolidates
our database read/write code while at the same time providing a single API endpoint
for clients (both ORCA and Cumulus) to retrieve the data from ORCA. This technology
though adding some complexity could simplify some code and design aspects.</p>
<p>Research aspects would include GraphQL server to use (COTS or home built). Impacts
to AWS account (cost, speed, capabilities, security). Synergy with other projects
like Cumulus.</p>
<p>Some initial resources to start would include the following:</p>
<ul>
<li><a href="https://www.moesif.com/blog/graphql/technical/Ways-To-Add-GraphQL-To-Your-Postgres-Database-Comparing-Hasura-Prisma-and-Others/" target="_blank" rel="noopener noreferrer">GraphQL Servers (prebuilt)</a></li>
<li><a href="https://www.howtographql.com/choose/" target="_blank" rel="noopener noreferrer">Build your Own GraphQL Server</a></li>
<li><a href="https://www.edx.org/course/exploring-graphql-a-query-language-for-apis" target="_blank" rel="noopener noreferrer">GraphQL classes</a></li>
<li><a href="https://git.earthdata.nasa.gov/projects/CMRQL/repos/hackfest-cmr-graphql/browse" target="_blank" rel="noopener noreferrer">GraphQL Example with CMR</a></li>
<li><a href="https://www.apollographql.com/docs/apollo-server/deployment/lambda/" target="_blank" rel="noopener noreferrer">Using Apollo Server as a Lambda</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sqs">SQS<a href="#sqs" class="hash-link" aria-label="Direct link to SQS" title="Direct link to SQS">​</a></h3>
<p><a href="https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/FIFO-queues.html" target="_blank" rel="noopener noreferrer">AWS SQS FIFO queues</a>
should be used to manage the records to be written to the ORCA database. This
allows the team to decouple the database code from several lambdas and centralize
the code to one area. This may or may not be needed if GraphQL is utilized.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aws-postgresql-rds-offerings">AWS PostgreSQL RDS Offerings<a href="#aws-postgresql-rds-offerings" class="hash-link" aria-label="Direct link to AWS PostgreSQL RDS Offerings" title="Direct link to AWS PostgreSQL RDS Offerings">​</a></h3>
<p>To better align with Cumulus, ORCA will utilize the AWS PostgreSQL RDS offerings.
See notes on the ORCA transition to the ORCA database <a href="https://wiki.earthdata.nasa.gov/display/ORCA/ORCA+Migration+to+Cumulus+RDS" target="_blank" rel="noopener noreferrer">here</a>.
The resultant code from the reconciliation work should be able to handle working
with a PostgreSQL back end. Both PostgreSQL RDS and Amazon Aurora are viable back
end choices that may be utilized. See a comparison article on the databases
<a href="https://aws.amazon.com/blogs/database/is-amazon-rds-for-postgresql-or-amazon-aurora-postgresql-a-better-choice-for-me/" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="nodejs-knex--python-sqlalchemy">NodeJS (Knex) / Python (SQLAlchemy)<a href="#nodejs-knex--python-sqlalchemy" class="hash-link" aria-label="Direct link to NodeJS (Knex) / Python (SQLAlchemy)" title="Direct link to NodeJS (Knex) / Python (SQLAlchemy)">​</a></h3>
<p>An agnostic language framework for working with the database should be used some
options include but are not limited to the items described below. Utilizing a
more general API may help manage changes to the back end database engine with
little or no code changes.</p>
<ul>
<li>
<p><a href="http://knexjs.org/" target="_blank" rel="noopener noreferrer">Nodejs and Knex</a> is what the Cumulus team currently
utilizes for database interactions. Implementation could follow best practices
already established by the Cumulus team.</p>
</li>
<li>
<p><a href="https://docs.sqlalchemy.org/en/14/core/" target="_blank" rel="noopener noreferrer">Python and SQLAlchemy Core</a> is currently
being used in some ORCA code.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="comparison-between-orca-s3-and-the-orca-catalog">Comparison between ORCA S3 and the ORCA Catalog<a href="#comparison-between-orca-s3-and-the-orca-catalog" class="hash-link" aria-label="Direct link to Comparison between ORCA S3 and the ORCA Catalog" title="Direct link to Comparison between ORCA S3 and the ORCA Catalog">​</a></h2>
<p>In addition to the comparison between the Cumulus catalog and ORCA, ORCA will
also need to manage and maintain the catalog holdings between the ORCA database
and the actual contents of the ORCA S3 buckets. This will require comparing the
<em>Key</em>, <em>LastModified</em>, <em>ETag</em>, and <em>Size</em> keys to the of the files in the bucket
to the ORCA holdings catalog. Discrepancies should be reported back to the user
and detail orphan and missing files. We could possibly create a temporary reporting
table to hold these values that the Cumulus Dashboard could display for us.</p>
<p>Some things to think through when designing this solution are factors of scale
and managing them. To provide some thought and guidance, LP DAAC (one of the larger
DAACs) has approximately 300 million files in the archive and growing. If all the
files are also stored in ORCA, we will need to reconcile all the files in a smart
and somewhat quick way on a semi regular basis.</p>
<p>Ideally, this reconciliation would occur on a regular schedule using a rule and
reports would be stored in the database for users to retrieve the information.
Additionally, the code should handle failures gracefully and be able to pick up
where it left off either gathering the current contents in S3 or performing the
ORCA catalog internal comparisons with S3.</p>
<p>Future enhancements may include displaying the information on the Cumulus dashboard,
notifying operators via email or other means of discrepancies, or automated healing
of the archive based on reconciliation results.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getting-a-listing-from-aws-s3">Getting a Listing from AWS S3<a href="#getting-a-listing-from-aws-s3" class="hash-link" aria-label="Direct link to Getting a Listing from AWS S3" title="Direct link to Getting a Listing from AWS S3">​</a></h3>
<p>To get a file listing of an S3 bucket, the <a href="https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/s3.html#S3.Client.list_objects_v2" target="_blank" rel="noopener noreferrer">list_objects_v2 method</a>
can be used from the boto3 library. An example of the usage can be seen below.
Some notable items if this library is used includes the following.</p>
<ul>
<li>Only a max of 1000 objects are returned per call. Additional logic will be needed to page through and get all of the results.</li>
<li>The listing can be filtered by prefix. Possibly some room here to add configuration to look at the collection lever if a collection can be denoted by prefix.</li>
<li>Version information is not included, only the latest file information is provided.</li>
<li>An additional call will need to be made per object to look at versions available for a file.</li>
<li>Only limited fields are returned from the call.</li>
<li>Each list call does cost in AWS (tiny fractions of a cent).</li>
</ul>
<p>Other considerations. It may be easier to load the data from the listing calls
into a temporary table in the database and perform a handful of queries to find
the delta information instead of looping through and doing a comparison in memory.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-using-list_objects_v2">Example Using list_objects_v2<a href="#example-using-list_objects_v2" class="hash-link" aria-label="Direct link to Example Using list_objects_v2" title="Direct link to Example Using list_objects_v2">​</a></h4>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> boto3</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Set the variables</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">s3_client </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> boto3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">resource</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;s3&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">copy_destination </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;orca-sandbox-archive&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Get the listing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">files </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> s3_client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">meta</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">list_objects_v2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Bucket</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">copy_destination</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Print the contents</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">file</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> files</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Contents&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">print</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Results</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065104.cmr.xml&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">15</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">8</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;aaf96912124e107bf22016c7695fdcef&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2320</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065104.hdf&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">23</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">59</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">58</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065104.hdf.met&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">15</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">7</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065104_ndvi.jpg&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">23</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">59</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">59</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065105.cmr.xml&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">17</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">35</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">22</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;b4b1ea93026eece5390278d97bfd5c3e&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2320</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065105.hdf&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">23</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">59</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">58</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065105.hdf.met&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">17</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">35</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">22</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065105_ndvi.jpg&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">23</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">59</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">58</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065106.cmr.xml&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">17</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">17</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">43</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;67f535ab5d6398c2181ab7cf4763f84b&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2320</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065106.hdf&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">23</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">59</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">58</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065106.hdf.met&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">17</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">17</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">42</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065106_ndvi.jpg&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">23</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">59</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">58</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065107.cmr.xml&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">17</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">58</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">55</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;a71512f2cc5aa43edbf3573c76ccf5aa&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2320</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065107.hdf&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">23</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">59</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">58</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065107.hdf.met&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">17</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">58</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">54</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065107_ndvi.jpg&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">23</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">59</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">59</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065108.cmr.xml&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">19</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;6d76238799f45466a9431a9187aa5c70&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2320</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065108.hdf&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">23</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">59</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">58</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065108.hdf.met&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">19</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">14</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065108_ndvi.jpg&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">23</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">59</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">59</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065109.cmr.xml&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">19</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">19</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">21</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;f7ffec3ced795379e2346183221bd5e8&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2320</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065109.hdf&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">23</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">59</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">57</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065109.hdf.met&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">19</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">19</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">20</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065109_ndvi.jpg&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">23</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">59</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">57</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065110.cmr.xml&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">19</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">28</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">44</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;9fe1b5cf984cd64b8b7c31b49560ca6e&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2320</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065110.hdf&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">23</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">59</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">57</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065110.hdf.met&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">19</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">28</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">44</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065110_ndvi.jpg&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">23</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">59</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">57</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065111.hdf&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">18</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">25</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">58</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;STANDARD&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Key&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;MOD09GQ/006/MOD09GQ.A2017025.h21v00.006.2017034065111_ndvi.jpg&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;LastModified&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">2021</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">23</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">16</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">59</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">58</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> tzinfo</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">tzutc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ETag&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&quot;81f4b6c158d25f1fe916ea52e99d1700&quot;&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Size&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;StorageClass&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;GLACIER&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="potential-internal-reconciliation-architecture">Potential Internal Reconciliation Architecture<a href="#potential-internal-reconciliation-architecture" class="hash-link" aria-label="Direct link to Potential Internal Reconciliation Architecture" title="Direct link to Potential Internal Reconciliation Architecture">​</a></h3>
<p>The following provides an architecture of how ORCA internal reconciliation
may work in an AWS environment with Cumulus. The architecture uses AWS&#x27; S3 Inventory report
combined with S3 triggering to fire the
comparison off on a normal schedule. Likely the running of this type of job will
need to scale.
When returning results through the API, it is recommended that we use a &quot;path&quot; parameter that filters based on the file&#x27;s &#x27;Key&#x27;.
This will allow Cumulus to build values such as collection into a filter so long
as they construct keys using it.</p>
<img src="/cumulus-orca/img/Research-Reconciliation-Internal-Reconcile.png" zoominpic="/cumulus-orca/img/zoom-in.svg" zoomoutpic="/cumulus-orca/img/zoom-out.svg" resetpic="/cumulus-orca/img/zoom-pan-reset.svg">
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="s3-inventory-report">S3 Inventory Report<a href="#s3-inventory-report" class="hash-link" aria-label="Direct link to S3 Inventory Report" title="Direct link to S3 Inventory Report">​</a></h3>
<p>S3 Inventory reports are created on S3 buckets and post information about that bucket&#x27;s contents to another bucket.
For our purposes, the following options must be checked:</p>
<ul>
<li>Size</li>
<li>Last modified</li>
<li>Storage class</li>
<li>ETag</li>
</ul>
<p>Additionally, set <code>Object versions</code> to <code>Include all versions</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="potential-internal-reporting-database-structure">Potential Internal Reporting Database Structure<a href="#potential-internal-reporting-database-structure" class="hash-link" aria-label="Direct link to Potential Internal Reporting Database Structure" title="Direct link to Potential Internal Reporting Database Structure">​</a></h3>
<p>The objects needed for managing ORCA internal reconciliation and reporting are
provided in detail below.</p>
<p>An example schema showing how the objects interact and would be tied together is
shown below.</p>
<img src="/cumulus-orca/img/Research-Reconciliation-orca-internal-reconciliation-schema.png" zoominpic="/cumulus-orca/img/zoom-in.svg" zoomoutpic="/cumulus-orca/img/zoom-out.svg" resetpic="/cumulus-orca/img/zoom-pan-reset.svg">
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="status-table-reconcile_status">Status Table reconcile_status<a href="#status-table-reconcile_status" class="hash-link" aria-label="Direct link to Status Table reconcile_status" title="Direct link to Status Table reconcile_status">​</a></h4>
<p>Reference table for valid status values and status order.</p>
<table><thead><tr><th>Attribute Name</th><th>Data Type</th><th>Description</th><th>Notable Items</th></tr></thead><tbody><tr><td>id</td><td><code>int2</code></td><td>Status ID.</td><td>Primary Key</td></tr><tr><td>value</td><td><code>string</code></td><td>Human readable status value.</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="internal-reconciliation-jobs-table-reconcile_job">Internal Reconciliation Jobs Table reconcile_job<a href="#internal-reconciliation-jobs-table-reconcile_job" class="hash-link" aria-label="Direct link to Internal Reconciliation Jobs Table reconcile_job" title="Direct link to Internal Reconciliation Jobs Table reconcile_job">​</a></h4>
<p>This table would capture internal reconciliation job information. Below is a
sampling of attributes that may be needed. Based on design and implementation,
additional attributes may be required. This table, in particular may need additional
items for managing jobs.</p>
<table><thead><tr><th>Attribute Name</th><th>Data Type</th><th>Description</th><th>Notable Items</th></tr></thead><tbody><tr><td>id</td><td><code>int2</code></td><td>Unique Job ID.</td><td>Primary Key</td></tr><tr><td>orca_archive_location</td><td><code>string</code></td><td>ORCA S3 Archive bucket the reconciliation targets.</td><td>Location in S3.</td></tr><tr><td>status_id</td><td><code>int8</code></td><td>Current status of the job.</td><td>Generally reflect the stages of reconciliation.</td></tr><tr><td>inventory_creation_time</td><td><code>timestamptz</code></td><td>Inventory report initiation time from the s3 manifest.</td><td>Cannot be NULL</td></tr><tr><td>start_time</td><td><code>timestamptz</code></td><td>Start time of the job.</td><td>Cannot be NULL</td></tr><tr><td>last_update</td><td><code>timestamptz</code></td><td>Last time the status was updated.</td><td>Cannot be NULL</td></tr><tr><td>end_time</td><td><code>timestamptz</code></td><td>End time of the job.</td><td>NULLABLE column</td></tr><tr><td>error_message</td><td><code>string</code></td><td>Job error message in cases of failure.</td><td>NULLABLE column</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="s3-inventory-temporary-table-reconcile_s3_object">S3 Inventory Temporary Table reconcile_s3_object<a href="#s3-inventory-temporary-table-reconcile_s3_object" class="hash-link" aria-label="Direct link to S3 Inventory Temporary Table reconcile_s3_object" title="Direct link to S3 Inventory Temporary Table reconcile_s3_object">​</a></h4>
<p>This is a temporary object that would store the listing from the S3 bucket for
comparison.</p>
<table><thead><tr><th>Attribute Name</th><th>Data Type</th><th>Description</th><th>Notable Items</th></tr></thead><tbody><tr><td>job_id</td><td><code>int8</code></td><td>Reconcile job the listing is a part of.</td><td>Many to one relationship with the jobs table.</td></tr><tr><td>orca_archive_location</td><td><code>string</code></td><td>ORCA S3 Archive bucket the file resides in.</td><td>Location in S3.</td></tr><tr><td>key_path</td><td><code>string</code></td><td>Key key value from S3 listing.</td><td>Should be able to match to the key_path in the ORCA catalog <em>File</em> metadata object. Must be unique.</td></tr><tr><td>etag</td><td><code>string</code></td><td>ETag key value from S3 listing.</td><td>Should be able to match to the orca_etag value in the ORCA catalog <em>File</em> metadata object.</td></tr><tr><td>last_update</td><td><code>timestamptz</code></td><td>LastModified key value from the S3 listing.</td><td>Should be able to match the last_update value in the ORCA catalog <em>File</em> metadata object.</td></tr><tr><td>size_in_bytes</td><td><code>int8</code></td><td>Size key value from the S3 listing.</td><td>Should be able to match the size value in the ORCA catalog <em>File</em> metadata object.</td></tr><tr><td>storage_class</td><td><code>string</code></td><td>StorageClass key value from the S3 listing.</td><td>May be used as a filter to exclude newly added items by excluding those with a value of <em>STANDARD</em></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="internal-reconciliation-reporting-table-orphaned-files-reconcile_orphan_report">Internal Reconciliation Reporting Table Orphaned Files reconcile_orphan_report<a href="#internal-reconciliation-reporting-table-orphaned-files-reconcile_orphan_report" class="hash-link" aria-label="Direct link to Internal Reconciliation Reporting Table Orphaned Files reconcile_orphan_report" title="Direct link to Internal Reconciliation Reporting Table Orphaned Files reconcile_orphan_report">​</a></h4>
<p>This table would capture the files that reside in S3 but have no match in the
ORCA catalog. Generally, these files would be deleted or investigated to see if
items need to be re-ingested into ORCA.
Note that entries with a last_update time
after or immediately before the job&#x27;s start_time may not have catalog entries yet
due to a slight delay in the catalog population. This should be indicated when
reporting results.</p>
<table><thead><tr><th>Attribute Name</th><th>Data Type</th><th>Description</th><th>Notable Items</th></tr></thead><tbody><tr><td>job_id</td><td><code>int8</code></td><td>Reconcile job the report is a part of.</td><td>FK constraint back to the jobs table with a many to one relationship.</td></tr><tr><td>key_path</td><td><code>string</code></td><td>Key key value from S3 listing.</td><td></td></tr><tr><td>etag</td><td><code>string</code></td><td>ETag key value from S3 listing.</td><td></td></tr><tr><td>last_update</td><td><code>timestamptz</code></td><td>LastModified key value from the S3 listing.</td><td></td></tr><tr><td>size_in_bytes</td><td><code>int8</code></td><td>Size key value from the S3 listing.</td><td></td></tr><tr><td>storage_class</td><td><code>string</code></td><td>StorageClass key value from the S3 listing.</td><td></td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="internal-reconciliation-reporting-table-s3-missing-reconcile_phantom_report">Internal Reconciliation Reporting Table S3 Missing reconcile_phantom_report<a href="#internal-reconciliation-reporting-table-s3-missing-reconcile_phantom_report" class="hash-link" aria-label="Direct link to Internal Reconciliation Reporting Table S3 Missing reconcile_phantom_report" title="Direct link to Internal Reconciliation Reporting Table S3 Missing reconcile_phantom_report">​</a></h4>
<p>This table captures files that have records in the orca catalog, but are missing from S3.
These files may have been deleted outside or a proper deletion flow, and may need to have their catalog entries manually cleared.
Note that any entries with an orca_last_update after the job&#x27;s
start_time may show as an error due to race conditions with the catalog update
process, and should be displayed as such when reporting results.</p>
<table><thead><tr><th>Attribute Name</th><th>Data Type</th><th>Description</th><th>Notable Items</th></tr></thead><tbody><tr><td>job_id</td><td><code>int8</code></td><td>Reconcile job the report is a part of.</td><td>FK constraint back to the jobs table with a many to one relationship.</td></tr><tr><td>collection_id</td><td><code>string</code></td><td>Collection ID from the ORCA Collection object the file belongs to.</td><td>From Catalog.</td></tr><tr><td>granule_id</td><td><code>string</code></td><td>Granule ID from the ORCA Granule object the file belongs to.</td><td>From Catalog.</td></tr><tr><td>file_name</td><td><code>string</code></td><td>File name from the ORCA File object the file belongs to.</td><td>From Catalog.</td></tr><tr><td>key_path</td><td><code>string</code></td><td>Key path that includes the file name from the ORCA File object the file belongs to.</td><td>From Catalog.</td></tr><tr><td>orca_etag</td><td><code>string</code></td><td>Etag value from the ORCA File object the file belongs to.</td><td>From Catalog.</td></tr><tr><td>orca_last_update</td><td><code>timestamptz</code></td><td>Last Update value from the ORCA File object the file belongs to.</td><td>From Catalog.</td></tr><tr><td>orca_size</td><td><code>int8</code></td><td>Size value from the ORCA File object the file belongs to.</td><td>From Catalog.</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="internal-reconciliation-reporting-table-catalog-missing-or-mismatches-reconcile_mismatch_report">Internal Reconciliation Reporting Table Catalog Missing or Mismatches reconcile_mismatch_report<a href="#internal-reconciliation-reporting-table-catalog-missing-or-mismatches-reconcile_mismatch_report" class="hash-link" aria-label="Direct link to Internal Reconciliation Reporting Table Catalog Missing or Mismatches reconcile_mismatch_report" title="Direct link to Internal Reconciliation Reporting Table Catalog Missing or Mismatches reconcile_mismatch_report">​</a></h4>
<p>This table would capture the discrepancies for reporting out to the operators
about files that are missing from ORCA S3 or have different metadata values than
what is expected.
Note that any entries with an orca_last_update after the job&#x27;s
start_time may show as an error due to race conditions with the catalog update
process, and should be displayed as such when reporting results.</p>
<table><thead><tr><th>Attribute Name</th><th>Data Type</th><th>Description</th><th>Notable Items</th></tr></thead><tbody><tr><td>job_id</td><td><code>int8</code></td><td>Reconcile job the report is a part of.</td><td>FK constraint back to the jobs table with a many to one relationship.</td></tr><tr><td>collection_id</td><td><code>string</code></td><td>Collection ID from the ORCA Collection object the file belongs to.</td><td>From Catalog.</td></tr><tr><td>granule_id</td><td><code>string</code></td><td>Granule ID from the ORCA Granule object the file belongs to.</td><td>From Catalog.</td></tr><tr><td>file_name</td><td><code>string</code></td><td>File name from the ORCA File object the file belongs to.</td><td>From Catalog.</td></tr><tr><td>key_path</td><td><code>string</code></td><td>Key path that includes the file name from the ORCA File object the file belongs to.</td><td>From Catalog.</td></tr><tr><td>orca_etag</td><td><code>string</code></td><td>Etag value from the ORCA File object the file belongs to.</td><td>From Catalog.</td></tr><tr><td>s3_etag</td><td><code>string</code></td><td>ETag key value from S3 listing.</td><td></td></tr><tr><td>orca_last_update</td><td><code>timestamptz</code></td><td>Last Update value from the ORCA File object the file belongs to.</td><td>From Catalog.</td></tr><tr><td>s3_last_update</td><td><code>timestamptz</code></td><td>LastModified key value from the S3 listing.</td><td></td></tr><tr><td>orca_size_in_bytes</td><td><code>int8</code></td><td>Size value from the ORCA File object the file belongs to.</td><td>From Catalog.</td></tr><tr><td>s3_size_in_bytes</td><td><code>int8</code></td><td>Size key value from the S3 listing.</td><td></td></tr><tr><td>discrepancy_type</td><td><code>string</code></td><td>Type of discrepancy encountered like &quot;value x mismatch&quot;</td><td></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="open-questions-yet-to-be-answered">Open Questions yet to be answered<a href="#open-questions-yet-to-be-answered" class="hash-link" aria-label="Direct link to Open Questions yet to be answered" title="Direct link to Open Questions yet to be answered">​</a></h2>
<ul>
<li>What is the proper date to use when receiving a date range from Cumulus for a reconciliation report?</li>
<li>Should granule acquisition date be a part of the metadata?</li>
<li>Should optional identified attributes be added an populated now or should we start with the minimum needed?</li>
<li>Is GraphQL a good replacement for the current SQS - Lambda architecture?</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="additional-artifacts-from-the-research">Additional Artifacts from the Research<a href="#additional-artifacts-from-the-research" class="hash-link" aria-label="Direct link to Additional Artifacts from the Research" title="Direct link to Additional Artifacts from the Research">​</a></h2>
<p>As part of the research, additional artifacts were created in order to help speed
along prototyping and design. Information and instructions on the artifacts are
provided below.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aqua-data-studio-erd-file">Aqua Data Studio ERD File<a href="#aqua-data-studio-erd-file" class="hash-link" aria-label="Direct link to Aqua Data Studio ERD File" title="Direct link to Aqua Data Studio ERD File">​</a></h3>
<p>An entity relationship diagram (ERD) was created in <a href="https://www.aquafold.com/aquadatastudio" target="_blank" rel="noopener noreferrer">Aqua Data Studio (ADS)</a>.
The ERD provides table, constraint, and reference information for the various
objects in the PostgreSQL database used by ORCA. The ERD diagram can be used
for development and scripting as well as a way to visualize object interactions.
The ADS ERD for ORCA can be downloaded <a href="/cumulus-orca/files/ads_orca_schema.xed" target="_blank" download="">here</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="schema-install-sql-scripts">Schema Install SQL Scripts<a href="#schema-install-sql-scripts" class="hash-link" aria-label="Direct link to Schema Install SQL Scripts" title="Direct link to Schema Install SQL Scripts">​</a></h3>
<p>In order to quickly prototype, two SQL install scripts were created. The scripts
install the ORCA inventory catalog and the internal reconciliation tables respectively.
The following preconditions are expected before the install scripts are run.</p>
<ul>
<li>The latest ORCA schema is installed in PostgreSQL (v3.x)</li>
<li>The user is logged into the orca database as the admin user to run the script.</li>
</ul>
<p>The ORCA inventory catalog build script is available for download <a href="/cumulus-orca/files/build_orca_inventory.sql" target="_blank" download="">here</a>.</p>
<p>The ORCA internal reconciliation tables build script is available for download <a href="/cumulus-orca/files/build_orca_reconcile.sql" target="_blank" download="">here</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="notes-from-orca-schema-refinement-research">Notes from ORCA schema refinement research<a href="#notes-from-orca-schema-refinement-research" class="hash-link" aria-label="Direct link to Notes from ORCA schema refinement research" title="Direct link to Notes from ORCA schema refinement research">​</a></h2>
<p>As part of the research, some refinements were made to the ORCA inventory catalog
schema. This includes refinements to the <code>granules</code> table and removal of the
<code>provider_collection_xref</code> table and the relationship between provider and
collection.</p>
<ul>
<li><code>execution_id</code> has been added for helping with logging and tracing.</li>
<li><code>cumulus_create_time</code> has been added for time based filtering with cumulus. The cumulus <code>createdAt</code> time will be a consistent time source between catalogs</li>
<li><code>provider_id</code> has been added to create a relationship between granule and provider.</li>
<li><code>archive_location</code> has been removed since <code>orca_archive_location</code> already exists in the <code>files</code> table.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="refined-granule-metadata-object">Refined Granule Metadata Object<a href="#refined-granule-metadata-object" class="hash-link" aria-label="Direct link to Refined Granule Metadata Object" title="Direct link to Refined Granule Metadata Object">​</a></h4>
<table><thead><tr><th>Attribute Name</th><th>Data Type</th><th>Description</th><th>Notable Items</th></tr></thead><tbody><tr><td>cumulus_granule_id</td><td><code>string</code></td><td>granuleId that is provided by Cumulus.</td><td>Must be unique per collectionId</td></tr><tr><td>provider_id</td><td><code>string</code></td><td>providerId that is provided by Cumulus</td><td>Ties a granule to a provider.</td></tr><tr><td>collection_id</td><td><code>string</code></td><td>collectionId that is provided by Cumulus</td><td>Ties a granule to a collection. The collectionId and granuleId combination must be unique.</td></tr><tr><td>execution_id</td><td><code>string</code></td><td>Step function execution ID from AWS.</td><td>Unique ID automatically generated by AWS</td></tr><tr><td>cumulus_create_time</td><td><code>timestamp</code></td><td>createdAt time provided by Cumulus when the granule was ingested.</td><td>This is the Cumulus archive time used for time based comparisons.</td></tr><tr><td>ingest_time</td><td><code>timestamp</code></td><td>Date and time in UTC that the data was originally ingested into ORCA</td><td>None</td></tr><tr><td>last_update</td><td><code>timestamp</code></td><td>Date and time in UTC that information was updated.</td><td>Potential time filter for Cumulus reconciliation.</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>It is recommended to add tags for <code>hash</code> and <code>hash_type</code> when the values are available to files that get copied over to S3 bucket.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="refined-erd-file--sql-script">Refined ERD File &amp; SQL script<a href="#refined-erd-file--sql-script" class="hash-link" aria-label="Direct link to Refined ERD File &amp; SQL script" title="Direct link to Refined ERD File &amp; SQL script">​</a></h3>
<p>The refined ADS ERD for ORCA can be downloaded <a href="/cumulus-orca/files/ads_orca_schema_refined.xed" target="_blank" download="">here</a>.
The refined ORCA inventory catalog build script is available for download <a href="/cumulus-orca/files/build_orca_inventory_refined.sql" target="_blank" download="">here</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="addressing-open-questions">Addressing open questions<a href="#addressing-open-questions" class="hash-link" aria-label="Direct link to Addressing open questions" title="Direct link to Addressing open questions">​</a></h3>
<ul>
<li>What is the proper date to use when receiving a date range from Cumulus for a reconciliation report?<!-- -->
<ul>
<li>After discussion with the Cumulus team, we have decided to use <code>cumulus_create_time</code>
which is passed by Cumulus <code>createdAt</code> key in the CMA Message containing the timestamp that the granule began ingest of the granule into Cumulus.
This timestamp will be used to filter results for Cumulus when asking for ORCA catalog inventory information and will be captured in the Cumulus <code>granules</code> table.</li>
</ul>
</li>
<li>Should granule acquisition date be a part of the metadata?<!-- -->
<ul>
<li>At this time, we are not going to include granule acquisition date since we cannot get it natively from Cumulus but might add it in the future.</li>
</ul>
</li>
<li>Should optional identified attributes be added and populated now or should we start with the minimum needed?<!-- -->
<ul>
<li>Added step function&#x27;s <code>execution_id</code> to the <code>granules</code> table.</li>
</ul>
</li>
<li>Is GraphQL a good replacement for the current SQS - Lambda architecture?<!-- -->
<ul>
<li>Based on the research performed and prototype created on GraphQL, it is not currently a good replacement due to the lack of documentation which makes implementation difficult. Check <a href="https://nasa.github.io/cumulus-orca/docs/developer/research/research-graphql" target="_blank" rel="noopener noreferrer">GraphQL research notes</a> for more information.</li>
</ul>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/nasa/cumulus-orca/edit/develop/website/docs/developer/research/research-reconciliation.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/cumulus-orca/docs/developer/research/research-APIGateway"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">API Gateway Research Notes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cumulus-orca/docs/developer/research/research-AuroraServerless"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Aurora Serverless Research Notes</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#metadata-needed-for-cumulus-comparison" class="table-of-contents__link toc-highlight">Metadata Needed for Cumulus Comparison</a><ul><li><a href="#relationship-of-the-metadata-objects" class="table-of-contents__link toc-highlight">Relationship of the Metadata Objects</a></li><li><a href="#potential-attributes-of-the-metadata-objects" class="table-of-contents__link toc-highlight">Potential Attributes of the Metadata Objects</a></li><li><a href="#return-metadata-needed-by-cumulus" class="table-of-contents__link toc-highlight">Return Metadata Needed by Cumulus</a></li><li><a href="#potential-orca-reconciliation-data-reporting-architecture" class="table-of-contents__link toc-highlight">Potential ORCA Reconciliation Data Reporting Architecture</a></li></ul></li><li><a href="#populating-the-metadata" class="table-of-contents__link toc-highlight">Populating the metadata</a><ul><li><a href="#automated-cumulus-ingest-workflow" class="table-of-contents__link toc-highlight">Automated Cumulus Ingest Workflow</a></li><li><a href="#manually-run-orca-ingest-workflows" class="table-of-contents__link toc-highlight">Manually Run ORCA Ingest Workflows</a></li><li><a href="#back-population-of-the-orca-catalog" class="table-of-contents__link toc-highlight">Back Population of the ORCA Catalog</a></li><li><a href="#potential-orca-catalog-population-architecture" class="table-of-contents__link toc-highlight">Potential ORCA Catalog Population Architecture</a></li></ul></li><li><a href="#possible-technologies-for-enabling-the-work" class="table-of-contents__link toc-highlight">Possible Technologies for Enabling the Work</a><ul><li><a href="#api-gateway" class="table-of-contents__link toc-highlight">API Gateway</a></li><li><a href="#graphql" class="table-of-contents__link toc-highlight">GraphQL</a></li><li><a href="#sqs" class="table-of-contents__link toc-highlight">SQS</a></li><li><a href="#aws-postgresql-rds-offerings" class="table-of-contents__link toc-highlight">AWS PostgreSQL RDS Offerings</a></li><li><a href="#nodejs-knex--python-sqlalchemy" class="table-of-contents__link toc-highlight">NodeJS (Knex) / Python (SQLAlchemy)</a></li></ul></li><li><a href="#comparison-between-orca-s3-and-the-orca-catalog" class="table-of-contents__link toc-highlight">Comparison between ORCA S3 and the ORCA Catalog</a><ul><li><a href="#getting-a-listing-from-aws-s3" class="table-of-contents__link toc-highlight">Getting a Listing from AWS S3</a></li><li><a href="#potential-internal-reconciliation-architecture" class="table-of-contents__link toc-highlight">Potential Internal Reconciliation Architecture</a></li><li><a href="#s3-inventory-report" class="table-of-contents__link toc-highlight">S3 Inventory Report</a></li><li><a href="#potential-internal-reporting-database-structure" class="table-of-contents__link toc-highlight">Potential Internal Reporting Database Structure</a></li></ul></li><li><a href="#open-questions-yet-to-be-answered" class="table-of-contents__link toc-highlight">Open Questions yet to be answered</a></li><li><a href="#additional-artifacts-from-the-research" class="table-of-contents__link toc-highlight">Additional Artifacts from the Research</a><ul><li><a href="#aqua-data-studio-erd-file" class="table-of-contents__link toc-highlight">Aqua Data Studio ERD File</a></li><li><a href="#schema-install-sql-scripts" class="table-of-contents__link toc-highlight">Schema Install SQL Scripts</a></li></ul></li><li><a href="#notes-from-orca-schema-refinement-research" class="table-of-contents__link toc-highlight">Notes from ORCA schema refinement research</a><ul><li><a href="#refined-erd-file--sql-script" class="table-of-contents__link toc-highlight">Refined ERD File &amp; SQL script</a></li><li><a href="#addressing-open-questions" class="table-of-contents__link toc-highlight">Addressing open questions</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cumulus-orca/docs/about/introduction/orca-intro">About ORCA</a></li><li class="footer__item"><a class="footer__link-item" href="/cumulus-orca/docs/developer/quickstart/developer-intro">ORCA Developer Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/cumulus-orca/docs/operator/operator-intro">ORCA Operator Guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://wiki.earthdata.nasa.gov/display/CUMULUS/ORCA+Working+Group" target="_blank" rel="noopener noreferrer" class="footer__link-item">ORCA Working Group<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/nasa/cumulus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cumulus Project<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://wiki.earthdata.nasa.gov/display/CUMULUS/Cumulus+Integrators+Working+Group" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cumulus Integrator Working Group<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://wiki.earthdata.nasa.gov/display/CUMULUS/Cumulus+Operator+Working+Group" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cumulus Operator Working Group<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://nasa.github.io/cumulus/docs/cumulus-docs-readme" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cumulus Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/nasa/cumulus-orca" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
</body>
</html>