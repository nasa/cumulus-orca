<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-developer/research/research-graphql">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<title data-rh="true">GraphQL Research Notes | Operational Recovery Cloud Archive (ORCA)</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://nasa.github.io//cumulus-orca/docs/developer/research/research-graphql"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="GraphQL Research Notes | Operational Recovery Cloud Archive (ORCA)"><meta data-rh="true" name="description" content="Research Notes on GraphQL."><meta data-rh="true" property="og:description" content="Research Notes on GraphQL."><link data-rh="true" rel="icon" href="/cumulus-orca/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://nasa.github.io//cumulus-orca/docs/developer/research/research-graphql"><link data-rh="true" rel="alternate" href="https://nasa.github.io//cumulus-orca/docs/developer/research/research-graphql" hreflang="en"><link data-rh="true" rel="alternate" href="https://nasa.github.io//cumulus-orca/docs/developer/research/research-graphql" hreflang="x-default"><link rel="stylesheet" href="/cumulus-orca/assets/css/styles.a86b4f91.css">
<link rel="preload" href="/cumulus-orca/assets/js/runtime~main.b925cb9d.js" as="script">
<link rel="preload" href="/cumulus-orca/assets/js/main.76ed4be9.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cumulus-orca/"><div class="navbar__logo"><img src="/cumulus-orca/img/cumulus-orca-logo.svg" alt="ORCA site logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/cumulus-orca/img/cumulus-orca-logo.svg" alt="ORCA site logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Operational Recovery Cloud Archive (ORCA)</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/cumulus-orca/docs/about/introduction/orca-intro">About ORCA</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cumulus-orca/docs/developer/quickstart/developer-intro">Developer Guide</a><a class="navbar__item navbar__link" href="/cumulus-orca/docs/cookbook/cookbook-intro">ORCA Cookbooks</a><a class="navbar__item navbar__link" href="/cumulus-orca/docs/operator/operator-intro">Operator Guide</a><a href="https://github.com/nasa/cumulus-orca" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus-orca/docs/developer/quickstart/developer-intro">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus-orca/docs/developer/development-guide/code/contrib-code-intro">Development Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus-orca/docs/developer/deployment-guide/deployment">Deployment Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cumulus-orca/docs/developer/api/orca-api">API Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/cumulus-orca/docs/developer/research/research-intro">Research</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-intro">Introduction to ORCA Research</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-localstack">Localstack Research Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-APIGateway">API Gateway Research Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-reconciliation">ORCA Reconciliation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-AuroraServerless">Aurora Serverless Research Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cumulus-orca/docs/developer/research/research-graphql">GraphQL Research Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-multipart-chunksize">Multipart Chunksize Research Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-bamboo">Bamboo specs Research Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-lambda-container">Using Lambda functions as container research Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-orca-delete-functionality">Research Notes on ORCA delete functionality.</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-bamboo-integration-tests">Research Notes on running integration tests in Bamboo CI/CD.</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-lambda-container">Using Lambda functions as container research Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-pushing-docker-image">Notes on pushing and deploying docker images.</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-s3-bucket-best-practices">S3 Future Direction/Best Practices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cumulus-orca/docs/developer/research/research-deep-glacier-migration">Deep Archive Storage Migration Research Notes</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/cumulus-orca/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Research</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">GraphQL Research Notes</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>GraphQL Research Notes</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a class="hash-link" href="#overview" title="Direct link to heading">​</a></h2><p><a href="https://graphql.org/" target="_blank" rel="noopener noreferrer">GraphQL</a> is an open-source data query and manipulation language for APIs, and a runtime for fulfilling queries with existing data.</p><ul><li>A GraphQL server provides a client with a predefined schema written down in Schema Definition Language (SDL). </li><li>The schema defines the queries that can be made.</li><li>The SDL consists of <code>Type</code>that describe object types that can be queried on that server and the fields they have.</li><li>It can return many resources in a single request which makes it faster than REST API.<!-- --> An example of a type <code>Project</code> written using SDL is shown below:<div class="language-commandline codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-commandline codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">type Project {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> name: String!</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> id: Int!</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>The following shows an example of a query using GraphQL which will return all the Project names and ID.</li></ul><div class="language-commandline codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-commandline codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Input:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Project</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      name</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      id</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-commandline codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-commandline codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Output:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;data&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      &quot;Project&quot;: {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;name&quot;: &quot;ORCA&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &quot;id&quot;: 1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pros-and-cons">Pros and cons<a class="hash-link" href="#pros-and-cons" title="Direct link to heading">​</a></h3><p>Pros:</p><ul><li>Able to get many resources in a single request compared to REST API.</li><li>Able to only fetch the needed information in a single request instead of fetching all the data.</li><li>There is no need to validate the data format, as GraphQL will do the validation. Developers need only to write resolvers – how the data will be received.</li><li>A developer can view the available schemas before making the request.</li><li>There is only one version of GraphQL API thus allowing more maintainable and cleaner code.</li><li>Shows detailed error message including all the resolvers and referring to the exact query part during error in query. This is useful during debugging.</li><li>Centralizes our DB code, making it easier to switch or update DB libraries.</li></ul><p>Cons:</p><ul><li>Performance issues with complex queries- it could face performance issues if a client asks for too many nested fields at once.</li><li>Not recommended for small applications. Moreover, the learning curve is higher compared to other methods.</li><li>File uploading is a bit complex.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="graphql-servers">GraphQL Servers<a class="hash-link" href="#graphql-servers" title="Direct link to heading">​</a></h3><p>There are numerous servers for GraphQL that support different programming languages. A list of all the servers can be seen <a href="https://graphql.org/code/" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prebuilt-graphql-servers">Prebuilt GraphQL servers<a class="hash-link" href="#prebuilt-graphql-servers" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="aws-appsync">AWS AppSync<a class="hash-link" href="#aws-appsync" title="Direct link to heading">​</a></h4><ul><li><a href="https://aws.amazon.com/appsync/" target="_blank" rel="noopener noreferrer">AWS AppSync</a> is a fully managed service that develops GraphQL APIs by handling the heavy lifting of securely connecting to data sources like AWS DynamoDB, Lambda, and more. </li><li>automatically scales GraphQL API execution engine up and down to meet API request volumes.</li><li>Pricing is $4.00 per million Query and Data Modification Operations and $0.08 per million minutes of connection to the AWS AppSync service. Details of pricing can be found <a href="https://aws.amazon.com/appsync/pricing/" target="_blank" rel="noopener noreferrer">here</a>.</li><li>Details on deploying  AppSync GraphQL API using terraform can be found below.<ul><li><a href="https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/appsync_graphql_api" target="_blank" rel="noopener noreferrer">terraform docs</a>.</li><li><a href="https://tech.ovoenergy.com/deploying-appsync-with-terraform/" target="_blank" rel="noopener noreferrer">Deploying AppSync with Terraform</a></li></ul></li></ul><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p>As of 07/18/2021, AWS AppSync is currently yet not approved in NGAP AWS account by NASA. However, it could be a good future approach when approved. </p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="hasura">Hasura<a class="hash-link" href="#hasura" title="Direct link to heading">​</a></h4><ul><li><a href="https://hasura.io/" target="_blank" rel="noopener noreferrer">Hasura</a> is an open source service that can create APIs without having to build, operate &amp; scale a GraphQL server.</li><li>Supports GraphQL on Postgres, AWS Aurora, Microsoft SQL server.</li><li>Can be run in <a href="https://hasura.io/docs/latest/graphql/cloud/getting-started/index.html#cloud-getting-started" target="_blank" rel="noopener noreferrer">cloud</a> (fastest way) or using <a href="https://hasura.io/docs/latest/graphql/core/getting-started/docker-simple.html#docker-simple" target="_blank" rel="noopener noreferrer">docker locally</a>.</li><li>comes with its own authentication and authorization features. To prevent GraphQL endpoint from being publicly accessible, developers have to create an <a href="https://hasura.io/docs/latest/graphql/core/deployment/deployment-guides/docker.html#docker-secure" target="_blank" rel="noopener noreferrer">admin secret</a>.</li><li><a href="https://hasura.io/pricing/" target="_blank" rel="noopener noreferrer">Pricing</a>- Fully managed cloud service is $99/month/project and supports upto 20GB data with $2/additional GB data.</li><li>written in Haskell programming language.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="postgraphile">PostGraphile<a class="hash-link" href="#postgraphile" title="Direct link to heading">​</a></h4><ul><li><a href="https://www.graphile.org/postgraphile/" target="_blank" rel="noopener noreferrer">Postgraphile</a> is similar to Hasura and can create GraphQL API from a PostgreSQL schema faster.</li><li>Most operations can be performed using <a href="https://www.graphile.org/postgraphile/usage-cli/" target="_blank" rel="noopener noreferrer">CLI</a>.</li><li>uses PostgreSQL&#x27;s &quot;role-based grant system&quot; and &quot;row-level security policies&quot;.</li><li><a href="https://www.graphile.org/postgraphile/pricing/" target="_blank" rel="noopener noreferrer">Pricing</a> is $25/month for PostGraphile Pro which has additional features compared to PostGraphile.</li></ul><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p> PostGraphile can be deployed using AWS lambda on Mac, Linux or Windows. Check <a href="https://github.com/graphile/postgraphile-lambda-example" target="_blank" rel="noopener noreferrer">this example</a>.</p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="apollo-server">Apollo Server<a class="hash-link" href="#apollo-server" title="Direct link to heading">​</a></h4><ul><li><a href="https://www.apollographql.com/docs/apollo-server/" target="_blank" rel="noopener noreferrer">Apollo Server</a> is open source and uses javascript.</li><li>needs <a href="https://npm.im/apollo-server" target="_blank" rel="noopener noreferrer">apollo-server</a> and <a href="https://npm.im/graphql" target="_blank" rel="noopener noreferrer">graphql</a> libraries as preriquisites.</li><li>Pricing- $59/user /month</li><li>A good example to create the server can be found <!-- -->[here]<!-- -->.(<a href="https://www.apollographql.com/docs/apollo-server/getting-started/" target="_blank" rel="noopener noreferrer">https://www.apollographql.com/docs/apollo-server/getting-started/</a>)</li><li>It can be deployed using lambda in AWS by utilizing serverless framework. A few examples are given below.<ul><li><a href="https://www.apollographql.com/docs/apollo-server/deployment/lambda/" target="_blank" rel="noopener noreferrer">How to deploy Apollo Server with AWS Lambda</a></li><li><a href="https://itnext.io/how-to-build-a-serverless-apollo-graphql-server-with-aws-lambda-webpack-and-typescript-64a377739208" target="_blank" rel="noopener noreferrer">How to Build a Serverless Apollo GraphQL Server with AWS Lambda, Webpack and TypeScript</a></li></ul></li><li>Can be deployed faster using <a href="https://www.apollographql.com/docs/apollo-server/deployment/heroku/" target="_blank" rel="noopener noreferrer">Heroku</a> but has additional cost.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="building-own-graphql-servers">Building own GraphQL servers<a class="hash-link" href="#building-own-graphql-servers" title="Direct link to heading">​</a></h3><ul><li><a href="https://graphql.org/graphql-js/" target="_blank" rel="noopener noreferrer">GraphQL.js</a>- Server using Javascript.</li><li><a href="https://www.apollographql.com/docs/" target="_blank" rel="noopener noreferrer">Apollo Server</a>- Server using Javascript.</li><li><a href="https://github.com/graphql/express-graphql" target="_blank" rel="noopener noreferrer">Express GraphQL</a>- Server using Javascript.</li><li><a href="https://github.com/graphql-python/graphene" target="_blank" rel="noopener noreferrer">Graphehe</a>- Server using Python. Most popular and contributors.</li><li><a href="https://ariadnegraphql.org/" target="_blank" rel="noopener noreferrer">Ariadne</a>- Server using Python</li><li><a href="https://strawberry.rocks/" target="_blank" rel="noopener noreferrer">Strawberry</a>- Server using Python</li><li><a href="https://git.earthdata.nasa.gov/projects/CMRQL/repos/hackfest-cmr-graphql/browse" target="_blank" rel="noopener noreferrer">CMR-GraphQL</a>- Currently being used by NASA GHRC developers Check out the example of their GraphQL schema and resolver <a href="https://git.earthdata.nasa.gov/projects/CMRQL/repos/hackfest-cmr-graphql/browse/cmr-graphql/graphql/graphql.js" target="_blank" rel="noopener noreferrer">here</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="graphql-in-orca">GraphQL in ORCA<a class="hash-link" href="#graphql-in-orca" title="Direct link to heading">​</a></h3><p>Some of the lambdas that might be affected are:</p><ul><li>post_copy_request_to_queue</li><li>db_deploy</li><li>post_to_database</li><li>request_files</li><li>copy_files_to_archive</li><li>request_status_for_granule</li><li>request_status_for_job</li><li>db_deploy</li><li>post_to_database</li></ul><div class="admonition admonition-important alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</h5></div><div class="admonition-content"><p>Apart from updating those lambdas, developers need to create the GraphQL endpoint using terraform or AWS SAM, update requirements.txt, requirements-dev.txt or bin/build.sh, bin/run_tests.sh by adding additional dependiencies like <code>graphene</code> in case of using graphene, or <code>npm install apollo-server graphql</code> in case of using Apollo server.
In case of using Javascript libraries like Apollo server, additional files/codes are needed to write the <a href="https://github.com/serverless/serverless-graphql/blob/master/app-backend/dynamodb/schema.js" target="_blank" rel="noopener noreferrer">schema</a> and <a href="https://github.com/serverless/serverless-graphql/blob/master/app-backend/dynamodb/resolvers.js" target="_blank" rel="noopener noreferrer">resolver</a>.
In case of using Python library like <a href="https://github.com/graphql-python/graphene" target="_blank" rel="noopener noreferrer">Graphene</a>, developers need to update .py files to import libraries, create class and queries, and to create schema and resolver. </p></div></div><p>  A few suggestions are given below:</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="post_copy_request_to_queue">post_copy_request_to_queue<a class="hash-link" href="#post_copy_request_to_queue" title="Direct link to heading">​</a></h4><ul><li>Developers might need to modify <code>get_metadata_sql(key_path)</code> and use the graphql query. See this <a href="https://docs.graphene-python.org/en/latest/execution/execute/" target="_blank" rel="noopener noreferrer">example</a>.</li><li>Update <code>test_post_copy_request_to_queue.py</code> based on changes in <code>post_copy_request_to_queue.py</code>. One test could be <code>test_get_metadata_sql_happy_path()</code></li><li><code>shared_recovery.update_status_for_file()</code> and <code>shared_recovery.post_entry_to_queue()</code> functions for sending to SQS might need to be removed and  replaced with code that leverages GraphQL to write to the database.</li><li>Additional changes are expected.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="copy_files_to_archive">copy_files_to_archive<a class="hash-link" href="#copy_files_to_archive" title="Direct link to heading">​</a></h4><ul><li><code>shared_recovery.update_status_for_file()</code> and <code>shared_recovery.post_entry_to_queue()</code> functions for sending to SQS might need to be removed and replaced with code that leverages GraphQL to write to the database.</li><li>Additional changes are expected.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="request_files">request_files<a class="hash-link" href="#request_files" title="Direct link to heading">​</a></h4><ul><li><code>shared_recovery.update_status_for_file()</code>, <code>shared_recovery.create_status_for_job()</code> and <code>shared_recovery.post_entry_to_queue()</code> functions for sending to SQS might need to be removed and replaced with code that leverages GraphQL to write to the database.</li><li><code>db_queue_url</code> arg in <code>inner_task()</code> will not be needed if SQS is not used.</li><li>Modify <code>process_granule()</code> function.</li><li>Additional changes are expected.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="request_status_for_granule">request_status_for_granule<a class="hash-link" href="#request_status_for_granule" title="Direct link to heading">​</a></h4><ul><li>Modify <code>get_most_recent_job_id_for_granule()</code> function to use GraphQL query.</li><li>Modify <code>get_status_totals_for_job()</code> function to use GraphQL query.</li><li>Additional changes are expected.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="request_status_for_job">request_status_for_job<a class="hash-link" href="#request_status_for_job" title="Direct link to heading">​</a></h4><ul><li>Modify <code>get_granule_status_entries_for_job()</code> function to use GraphQL query.</li><li>Modify <code>get_granule_status_entries_for_job()</code> function to use GraphQL query.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="db_deploy">db_deploy<a class="hash-link" href="#db_deploy" title="Direct link to heading">​</a></h4><ul><li><code>app_db_exists()</code>, <code>app_schema_exists()</code>, <code>app_version_table_exists()</code> and <code>get_migration_version()</code> functions might need to be updated.</li><li>Additional changes are expected.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="post_to_database">post_to_database<a class="hash-link" href="#post_to_database" title="Direct link to heading">​</a></h4><ul><li>This will need to be removed if GraphQL is used since it will write to the DB instead of SQS.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="graphql-server-recommendation">GraphQL server recommendation<a class="hash-link" href="#graphql-server-recommendation" title="Direct link to heading">​</a></h3><p>Based on this research, GraphQL has a higher learning curve compared to other technologies and will take some time for developers to learn and then implement. If using Javascript libraries, developers should have good background in this language in order to execute this approach. Using some prebuilt GraphQL servers that automatically generates GraphQL schema and resolvers could save some time and simplify the design. Building a prototype in ORCA could reveal if it is worth the effort and time. However, using lambda, API gateway and SQS(the resources in existing ORCA architecture) seem to contain more resources and examples online than GraphQL.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="recommendation-1--hasura">Recommendation #1- <a href="https://hasura.io/" target="_blank" rel="noopener noreferrer">Hasura</a><a class="hash-link" href="#recommendation-1--hasura" title="Direct link to heading">​</a></h4><ul><li>Hasura GraphQL engine can be deployed using Docker and Docker Compose or using Hasura cloud. </li><li>The easiest way to set up Hasura GraphQL engine on local environment without any cost is using Docker. </li><li>It supports GraphQL on Postgres, AWS Aurora and seems to be compatible with the current ORCA architecture. </li><li>Cost to use the cloud is $99/month/project and supports up to 20GB data with $2/additional GB data. </li><li>Creating the server using the given <a href="https://github.com/hasura/graphql-engine/blob/stable/install-manifests/docker-compose/docker-compose.yaml" target="_blank" rel="noopener noreferrer"><code>docker-compose.yml</code></a> file will be easy and the server can be queried from the Hasura console. Instructions to create the server can be found <a href="https://hasura.io/docs/latest/graphql/core/getting-started/docker-simple.html#docker-simple" target="_blank" rel="noopener noreferrer">here</a>.</li><li>Instructions on connecting Postgres to the GraphQL server can be found <a href="https://hasura.io/docs/latest/graphql/cloud/getting-started/cloud-databases/aws-postgres.html#cloud-db-aws-rds-postgres" target="_blank" rel="noopener noreferrer">here</a><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p>Hasura cloud service is not approved by NGAP, so it cannot be used for now. However, developers can use the docker version for testing.</p></div></div></li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="practical-evaluation">Practical Evaluation<a class="hash-link" href="#practical-evaluation" title="Direct link to heading">​</a></h5><ul><li>Setting up locally is the easiest out of all three recommendations.</li><li>Only supports PostgreSQL, MS SQL Server, and Citrus, with BigQuery in beta.</li><li>Did not attempt to deploy to AWS.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="recommendation-2--apollo-server">Recommendation #2- <a href="https://www.apollographql.com/" target="_blank" rel="noopener noreferrer">Apollo Server</a><a class="hash-link" href="#recommendation-2--apollo-server" title="Direct link to heading">​</a></h4><ul><li>This server has to be built from scratch and developer has to be familiar with Javascript. </li><li>It is completely free and has over 108,000 users and 400+ contributors which make it a good candidate to look into further for prototyping.</li><li>Developer has to write his  own GraphQL schema when using this method which could be time consuming.</li><li>Developers have to work with two libraries that are required by the server:<ul><li><a href="https://npm.im/apollo-server" target="_blank" rel="noopener noreferrer">apollo-server</a>: library for Apollo Server which defines the shape of the data and how to fetch it.</li><li><a href="https://www.npmjs.com/package/graphql" target="_blank" rel="noopener noreferrer">graphql</a>: library used to build a GraphQL schema and execute queries against it.</li></ul></li><li>Some examples of the schema and resolvers for this server can be found <a href="https://www.apollographql.com/docs/apollo-server/getting-started/" target="_blank" rel="noopener noreferrer">here</a>.</li><li>Once created, GraphQL queries can be executed from Apollo Sandbox console.</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="practical-evaluation-1">Practical Evaluation<a class="hash-link" href="#practical-evaluation-1" title="Direct link to heading">​</a></h5><ul><li>Documentation is severely limited, with the section for connecting to databases <a href="https://www.apollographql.com/docs/tutorial/data-source/" target="_blank" rel="noopener noreferrer">requesting additional coders to complete missing functionality</a>.</li><li>Some tutorials exist, but they are <a href="https://www.robinwieruch.de/graphql-apollo-server-tutorial" target="_blank" rel="noopener noreferrer">generally a few years old and out-of-date</a>.</li><li>Recommendations use auto-magical Sequelize integration, which may not give us a solid boundary should DB technology change.<ul><li>Unsure if the driver would correctly handle <a href="/cumulus-orca/docs/developer/research/research-AuroraServerless">Aurora Serverless</a> errors.</li></ul></li><li>Deployment is similarly undocumented. The <a href="https://levelup.gitconnected.com/deploying-an-apollo-graphql-application-as-an-aws-lambda-function-through-serverless-77fa33612bae" target="_blank" rel="noopener noreferrer">best source</a> states outright that deployment is over-complicated, so developers should rely on &quot;serverless&quot; which we cannot use in our current architecture.</li><li>Attempted to create resources manually, invoked, and got<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;errorType&quot;: &quot;Error&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;errorMessage&quot;: &quot;Unable to determine event source based on event.&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;trace&quot;: [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;Error: Unable to determine event source based on event.&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;    at getEventSourceNameBasedOnEvent (/var/task/node_modules/@vendia/serverless-express/src/event-sources/utils.js:79:9)&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;    at proxy (/var/task/node_modules/@vendia/serverless-express/src/configure.js:37:51)&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;    at handler (/var/task/node_modules/@vendia/serverless-express/src/configure.js:95:12)&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;    at Runtime.handler (/var/task/node_modules/apollo-server-lambda/dist/ApolloServer.js:51:27)&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="recommendation-3--graphene">Recommendation #3- <a href="https://github.com/graphql-python/graphene" target="_blank" rel="noopener noreferrer">Graphene</a><a class="hash-link" href="#recommendation-3--graphene" title="Direct link to heading">​</a></h4><ul><li>Python library with 9000+ users for building GraphQL schemas/types. Since all ORCA lambdas are written in Python, using this library will make it easier for code changes.</li><li>Instead of writing GraphQL Schema Definition Language, developers will use Python code to describe the data provided by the server.</li><li>Can be deployed using lambda function with the help of <!-- -->[SAM]<a href="https://github.com/ivanchoo/demo-aws-graphql-python/blob/master/template.yml" target="_blank" rel="noopener noreferrer">https://github.com/ivanchoo/demo-aws-graphql-python/blob/master/template.yml</a>) or cloudformation. So serverless approach will charge when it is only used.</li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="practical-evaluation-2">Practical Evaluation<a class="hash-link" href="#practical-evaluation-2" title="Direct link to heading">​</a></h5><ul><li>More flexible than other libraries; Would be much easier to switch DB technology.<ul><li>Could use current database code.</li></ul></li><li>Deployed something using <a href="https://thomasstep.com/blog/graphene-and-lambda-functions" target="_blank" rel="noopener noreferrer">these basic instructions</a><ul><li>Can&#x27;t access any form of UI.</li><li>Looking at code, UI/UI-Endpoints may not be present. Requires <code>query</code> in Lambda input.</li><li>Without UI, doesn&#x27;t have any advantage over building our own MS.</li><li>Filtering functions.<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;query&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;query doesnotmatter{ mirror(word: \&quot;apples\&quot;) { backward } }&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;statusCode&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;body&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;{\&quot;mirror\&quot;: {\&quot;backward\&quot;: \&quot;selppa\&quot;}}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>Errors are not properly communicated, instead returning 200 with a &quot;null&quot; body.<ul><li>Could be fixed with further development.</li></ul></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="graphql-ide">GraphQL IDE<a class="hash-link" href="#graphql-ide" title="Direct link to heading">​</a></h3><p>There are a few IDE that developers can use to interact with GraphQL API calls and query the server.</p><ul><li><a href="https://github.com/graphql/graphiql" target="_blank" rel="noopener noreferrer">GraphiQL</a>. The live IDE can be seen <a href="http://graphql.org/swapi-graphql" target="_blank" rel="noopener noreferrer">here</a>. </li><li><a href="https://github.com/graphql/graphql-playground" target="_blank" rel="noopener noreferrer">GraphQL Playground</a></li><li><a href="https://github.com/andev-software/graphql-ide" target="_blank" rel="noopener noreferrer">GraphQL IDE</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="useful-tools">Useful tools<a class="hash-link" href="#useful-tools" title="Direct link to heading">​</a></h3><p>The following tools might be useful for developers while working with GraphQL</p><ul><li>GraphQL CLI- CLI for GraphQL development workflows.</li><li>GraphQL Docs- generates GraphQL documents. </li><li>GraphDoc- generates GraphQL documents.</li><li>GraphQL Network- useful for debugging.</li><li>GraphQL Voyager- for visualizing data relations.</li><li>GraphQL Config- useful for configuring dev environment with GraphQL schema.</li><li>GraphQL Bindings- SDK for sharing GraphQL APIs</li><li>GraphQL Boilerplates- useful for backend projects.</li><li>Apollo Graph Manager-  useful for monitoring the performance and usage of GraphQL backend.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="recommendation">Recommendation<a class="hash-link" href="#recommendation" title="Direct link to heading">​</a></h3><p>While GraphQL is an interesting technology, the lack of documentation makes implementation difficult.
In particular, deployment and integration lack vital instructions, with most tutorials running in a docker container or a Python script rather than a realistic environment.
At this time, I recommend not radically adjusting our architecture to work in a poorly documented and developed library, especially as we are likely to discover further pain-points.
Even the one example that was functional in AWS had major flaws, such as a lack of proper error reporting, though this could be fixed with further development.
Simply put, There would need to be significant research and development before our GraphQL functionality would reach our current level of database integration.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="future-options">Future Options<a class="hash-link" href="#future-options" title="Direct link to heading">​</a></h3><p>Should this be desired, I feel strongly that Graphene is the only known option that gives us the flexibility that is required to justify this level of adaptation.
Research would be required for:</p><ul><li>Ideal deployment method</li><li>Accessing API + Error Codes</li><li>Security</li><li>GraphQL UI for use in development</li></ul><p>If the above are resolved, then Graphene would give slight benefits to output-filtering, but would not be any less code or any more maintainable than a centralized DB library.</p><p>Alternatively, GraphQL could theoretically be run in an EC2 instance managed by an orchestration service such as <a href="https://aws.amazon.com/fargate/?whats-new-cards.sort-by=item.additionalFields.postDateTime&amp;whats-new-cards.sort-order=desc&amp;fargate-blogs.sort-by=item.additionalFields.createdDate&amp;fargate-blogs.sort-order=desc" target="_blank" rel="noopener noreferrer">Fargate</a> with some form of connecting layer providing an API, but this is untested and would need research and cost analysis.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a class="hash-link" href="#references" title="Direct link to heading">​</a></h5><ul><li><a href="https://graphql.org/learn/queries/" target="_blank" rel="noopener noreferrer">https://graphql.org/learn/queries/</a></li><li><a href="https://github.com/graphql-python" target="_blank" rel="noopener noreferrer">https://github.com/graphql-python</a></li><li><a href="https://www.altexsoft.com/blog/engineering/graphql-core-features-architecture-pros-and-cons/" target="_blank" rel="noopener noreferrer">https://www.altexsoft.com/blog/engineering/graphql-core-features-architecture-pros-and-cons/</a></li><li><a href="https://hasura.io/docs/latest/graphql/core/index.html" target="_blank" rel="noopener noreferrer">https://hasura.io/docs/latest/graphql/core/index.html</a></li><li><a href="https://hasura.io/docs/latest/graphql/core/getting-started/docker-simple.html#docker-simple" target="_blank" rel="noopener noreferrer">https://hasura.io/docs/latest/graphql/core/getting-started/docker-simple.html#docker-simple</a></li><li><a href="https://www.moesif.com/blog/graphql/technical/Ways-To-Add-GraphQL-To-Your-Postgres-Database-Comparing-Hasura-Prisma-and-Others/" target="_blank" rel="noopener noreferrer">https://www.moesif.com/blog/graphql/technical/Ways-To-Add-GraphQL-To-Your-Postgres-Database-Comparing-Hasura-Prisma-and-Others/</a></li><li><a href="https://docs.graphene-python.org/en/latest/quickstart/" target="_blank" rel="noopener noreferrer">https://docs.graphene-python.org/en/latest/quickstart/</a></li><li><a href="https://github.com/ivanchoo/demo-aws-graphql-python" target="_blank" rel="noopener noreferrer">https://github.com/ivanchoo/demo-aws-graphql-python</a></li><li><a href="https://git.earthdata.nasa.gov/projects/CMRQL/repos/hackfest-cmr-graphql/browse" target="_blank" rel="noopener noreferrer">https://git.earthdata.nasa.gov/projects/CMRQL/repos/hackfest-cmr-graphql/browse</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/nasa/cumulus-orca/edit/develop/website/docs/developer/research/research-graphql.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vbeJ"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/cumulus-orca/docs/developer/research/research-AuroraServerless"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Aurora Serverless Research Notes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cumulus-orca/docs/developer/research/research-multipart-chunksize"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Multipart Chunksize Research Notes</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a><ul><li><a href="#pros-and-cons" class="table-of-contents__link toc-highlight">Pros and cons</a></li><li><a href="#graphql-servers" class="table-of-contents__link toc-highlight">GraphQL Servers</a></li><li><a href="#prebuilt-graphql-servers" class="table-of-contents__link toc-highlight">Prebuilt GraphQL servers</a></li><li><a href="#building-own-graphql-servers" class="table-of-contents__link toc-highlight">Building own GraphQL servers</a></li><li><a href="#graphql-in-orca" class="table-of-contents__link toc-highlight">GraphQL in ORCA</a></li><li><a href="#graphql-server-recommendation" class="table-of-contents__link toc-highlight">GraphQL server recommendation</a></li><li><a href="#graphql-ide" class="table-of-contents__link toc-highlight">GraphQL IDE</a></li><li><a href="#useful-tools" class="table-of-contents__link toc-highlight">Useful tools</a></li><li><a href="#recommendation" class="table-of-contents__link toc-highlight">Recommendation</a></li><li><a href="#future-options" class="table-of-contents__link toc-highlight">Future Options</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cumulus-orca/docs/about/introduction/orca-intro">About ORCA</a></li><li class="footer__item"><a class="footer__link-item" href="/cumulus-orca/docs/developer/quickstart/developer-intro">ORCA Developer Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/cumulus-orca/docs/cookbook/cookbook-intro">ORCA Cookbooks</a></li><li class="footer__item"><a class="footer__link-item" href="/cumulus-orca/docs/operator/operator-intro">ORCA Operator Guide</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://wiki.earthdata.nasa.gov/display/CUMULUS/ORCA+Working+Group" target="_blank" rel="noopener noreferrer" class="footer__link-item">ORCA Working Group<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/nasa/cumulus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cumulus Project<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://wiki.earthdata.nasa.gov/display/CUMULUS/Cumulus+Integrators+Working+Group" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cumulus Integrator Working Group<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://wiki.earthdata.nasa.gov/display/CUMULUS/Cumulus+Operator+Working+Group" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cumulus Operator Working Group<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://nasa.github.io/cumulus/docs/cumulus-docs-readme" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cumulus Documentation<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/nasa/cumulus-orca" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
<script src="/cumulus-orca/assets/js/runtime~main.b925cb9d.js"></script>
<script src="/cumulus-orca/assets/js/main.76ed4be9.js"></script>
</body>
</html>